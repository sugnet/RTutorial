<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 2 Managing objects | Introduction into R Applications and Programming: A Tutorial</title>
<meta name="author" content="Niël J le Roux and Sugnet Lubbe">
<meta name="description" content="After completing the introductory chapter you now know how to initialize an R session; save your workspace; open an existing project; execute simple tasks in R to obtain numerical, text or...">
<meta name="generator" content="bookdown 0.44 with bs4_book()">
<meta property="og:title" content="Chapter 2 Managing objects | Introduction into R Applications and Programming: A Tutorial">
<meta property="og:type" content="book">
<meta property="og:url" content="https://github.com/sugnet/RTutorial/objects.html">
<meta property="og:image" content="https://github.com/sugnet/RTutorial/frontcover.jpg">
<meta property="og:description" content="After completing the introductory chapter you now know how to initialize an R session; save your workspace; open an existing project; execute simple tasks in R to obtain numerical, text or...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 2 Managing objects | Introduction into R Applications and Programming: A Tutorial">
<meta name="twitter:description" content="After completing the introductory chapter you now know how to initialize an R session; save your workspace; open an existing project; execute simple tasks in R to obtain numerical, text or...">
<meta name="twitter:image" content="https://github.com/sugnet/RTutorial/frontcover.jpg">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.9.0/transition.js"></script><script src="libs/bs3compat-0.9.0/tabs.js"></script><script src="libs/bs3compat-0.9.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><link href="libs/tabwid-1.1.3/tabwid.css" rel="stylesheet">
<script src="libs/tabwid-1.1.3/tabwid.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
          margin-bottom: 1em;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Introduction into R Applications and Programming: A Tutorial</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Preface</a></li>
<li><a class="" href="intro.html"><span class="header-section-number">1</span> Introducing the R System</a></li>
<li><a class="active" href="objects.html"><span class="header-section-number">2</span> Managing objects</a></li>
<li><a class="" href="operators.html"><span class="header-section-number">3</span> R operators and functions</a></li>
<li><a class="" href="graphics.html"><span class="header-section-number">4</span> Introducing traditional R graphics</a></li>
<li><a class="" href="subscripting.html"><span class="header-section-number">5</span> Subscripting</a></li>
<li><a class="" href="revision.html"><span class="header-section-number">6</span> Revision tasks</a></li>
<li><a class="" href="functions.html"><span class="header-section-number">7</span> Writing functions in R</a></li>
<li><a class="" href="mapping.html"><span class="header-section-number">8</span> Vectorized programming and mapping functions</a></li>
<li><a class="" href="data.html"><span class="header-section-number">9</span> Reading data files into R, formatting and printing</a></li>
<li><a class="" href="graphics2.html"><span class="header-section-number">10</span> R graphics: Round II</a></li>
<li><a class="" href="modelling.html"><span class="header-section-number">11</span> Statistical modelling with R</a></li>
<li><a class="" href="optimisation.html"><span class="header-section-number">12</span> Introduction to Optimisation</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/sugnet/RTutorial">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="objects" class="section level1" number="2">
<h1>
<span class="header-section-number">2</span> Managing objects<a class="anchor" aria-label="anchor" href="#objects"><i class="fas fa-link"></i></a>
</h1>
<p>After completing the introductory chapter you now know how to</p>
<ul>
<li>initialize an R session;</li>
<li>save your workspace;</li>
<li>open an existing project;</li>
<li>execute simple tasks in R to obtain numerical, text or graphical results;</li>
<li>obtain help.</li>
</ul>
<p>You know also that everything in R can be considered as some kind of an object. In this chapter the focus is on what properties the different objects have and how to manage objects in the workspace.</p>
<div id="instructions-and-objects-in-r" class="section level2" number="2.1">
<h2>
<span class="header-section-number">2.1</span> Instructions and objects in R<a class="anchor" aria-label="anchor" href="#instructions-and-objects-in-r"><i class="fas fa-link"></i></a>
</h2>
<div id="general" class="section level3" number="2.1.1">
<h3>
<span class="header-section-number">2.1.1</span> General<a class="anchor" aria-label="anchor" href="#general"><i class="fas fa-link"></i></a>
</h3>
<p>Recall that</p>
<ul>
<li><p>instructions are separated by a semi-colon or start on new lines;</p></li>
<li><p>the <code>#</code> symbol marks the rest of the line as comments;</p></li>
<li><p>the default R (primary) prompt is <code>&gt;</code>; the secondary default prompt is <code>+</code>;</p></li>
<li>
<p>use of <code>&lt;-</code> to create objects. (The equality sign (<code>=</code>) will also be accepted. However, avoid this practice and use</p>
<ul>
<li>
<code>=</code> only for function arguments;</li>
<li>
<code>&lt;-</code> for assignment;</li>
<li>
<code>==</code> for comparison / control structures);</li>
</ul>
</li>
<li><p>the use of <code>-&gt;</code> for assigning left-hand side to the name on right-hand side.</p></li>
<li><p>the use of function <code><a href="https://rdrr.io/r/base/assign.html">assign()</a></code> for assigning names to objects. (to be discussed in detail in Chapter <a href="operators.html#operators">3</a>)</p></li>
</ul>
<div id="examples" class="section level5 unnumbered">
<h5>Examples<a class="anchor" aria-label="anchor" href="#examples"><i class="fas fa-link"></i></a>
</h5>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">aa</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span></span></code></pre></div>
<p>Assigning numeric vector to name “aa”. Assignment takes place in global environment.</p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">aa</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">1</span>,to <span class="op">=</span> <span class="fl">10</span>,by <span class="op">=</span> <span class="fl">0.01</span><span class="op">)</span>; <span class="va">yy</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>,<span class="st">"b"</span>,<span class="st">"c"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>,<span class="st">"b"</span>,<span class="st">"c"</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">bb</span> </span></code></pre></div>
<p>Assigning character vector to name “bb”.</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/assign.html">assign</a></span><span class="op">(</span><span class="st">"aa"</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span>, pos <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p>Note the use of the argument <code>pos</code>, ” ” or ’ ’ are used for characters. Be careful when mixing single quotes and double quotes. See below.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="objects.html#cb44-1" tabindex="-1"></a><span class="fu">c</span>(<span class="st">"u"</span>,<span class="st">'v'</span>,<span class="st">"'w'"</span>,<span class="st">""</span>x<span class="st">""</span>,<span class="st">'"y"'</span>,<span class="st">''</span>z<span class="st">''</span>) <span class="ot">-&gt;</span> cc</span>
<span id="cb44-2"><a href="objects.html#cb44-2" tabindex="-1"></a><span class="co">#&gt; Error in parse(text = input): &lt;text&gt;:1:19: unexpected symbol</span></span>
<span id="cb44-3"><a href="objects.html#cb44-3" tabindex="-1"></a><span class="co">#&gt; 1: c("u",'v',"'w'",""x</span></span>
<span id="cb44-4"><a href="objects.html#cb44-4" tabindex="-1"></a><span class="co">#&gt;                       ^</span></span></code></pre></div>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="objects.html#cb45-1" tabindex="-1"></a><span class="fu">c</span>(<span class="st">"u"</span>,<span class="st">'v'</span>,<span class="st">"'w'"</span>,<span class="st">'"x"'</span>,<span class="st">'"y"'</span>,<span class="st">''</span>z<span class="st">''</span>) <span class="ot">-&gt;</span> cc</span>
<span id="cb45-2"><a href="objects.html#cb45-2" tabindex="-1"></a><span class="co">#&gt; Error in parse(text = input): &lt;text&gt;:1:31: unexpected symbol</span></span>
<span id="cb45-3"><a href="objects.html#cb45-3" tabindex="-1"></a><span class="co">#&gt; 1: c("u",'v',"'w'",'"x"','"y"',''z</span></span>
<span id="cb45-4"><a href="objects.html#cb45-4" tabindex="-1"></a><span class="co">#&gt;                                   ^</span></span></code></pre></div>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"u"</span>,<span class="st">'v'</span>,<span class="st">"'w'"</span>,<span class="st">'"x"'</span>,<span class="st">'"y"'</span>,<span class="st">'z'</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">cc</span> </span>
<span><span class="va">cc</span></span>
<span><span class="co">#&gt; [1] "u"     "v"     "'w'"   "\"x\"" "\"y\"" "z"</span></span></code></pre></div>
<ul>
<li>Explain error message above.</li>
<li>Explain backslash above.</li>
</ul>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/ls.html">objects</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "aa" "bb" "cc" "yy"</span></span>
<span><span class="va">aa</span></span>
<span><span class="co">#&gt;  [1]  0.4780918  0.9092444 -2.2407797  0.8453539  0.4835953</span></span>
<span><span class="co">#&gt;  [6]  0.7257825  2.0491010 -1.8930121 -0.3519887  1.0968490</span></span>
<span><span class="va">bb</span></span>
<span><span class="co">#&gt; [1] "a" "b" "c"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/ls.html">objects</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1] "cc"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/parse.html">parse</a></span><span class="op">(</span>text<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/ls.html">objects</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; expression(cc)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/eval.html">eval</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/parse.html">parse</a></span><span class="op">(</span>text<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/ls.html">objects</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "u"     "v"     "'w'"   "\"x\"" "\"y\"" "z"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rm.html">rm</a></span><span class="op">(</span><span class="va">a</span>,<span class="va">b</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in rm(a, b): object 'a' not found</span></span>
<span><span class="co">#&gt; Warning in rm(a, b): object 'b' not found</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rm.html">rm</a></span><span class="op">(</span><span class="va">aa</span>,<span class="va">bb</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/ls.html">objects</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "cc" "yy"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rm.html">rm</a></span><span class="op">(</span><span class="st">"cc"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/ls.html">objects</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "yy"</span></span></code></pre></div>
</div>
</div>
<div id="objects-in-r" class="section level3" number="2.1.2">
<h3>
<span class="header-section-number">2.1.2</span> Objects in R<a class="anchor" aria-label="anchor" href="#objects-in-r"><i class="fas fa-link"></i></a>
</h3>
<ol style="list-style-type: lower-alpha">
<li><p>Everything is an object but there are many different types of objects.</p></li>
<li><p>Study and also take note of the following <em><span style="color:#FF9966">naming conventions</span></em>:</p></li>
</ol>
<ul>
<li>Allowed are upper or lower case letters, numbers 0 – 9, full stop(s) and underscore(s).</li>
<li>Must not begin with a number.</li>
<li>R is case sensitive i.e. <code>John</code> and <code>john</code> refer to different objects.</li>
<li>Use full stops (periods) or underscores to break up a name into meaningful words.</li>
<li>Avoid <code>c</code>, <code>s</code>, <code>t</code>, <code>C</code>, <code>F</code>, <code>T</code>, <code>diff</code> as well as other reserved words for naming an object.</li>
</ul>
<ol start="3" style="list-style-type: lower-alpha">
<li>The use of the functions <code><a href="https://rdrr.io/r/base/conflicts.html">conflicts()</a></code> and <code><a href="https://rdrr.io/r/utils/apropos.html">find()</a></code> when naming objects. The instruction <code>conflicts (detail = TRUE)</code> outputs details on whether and where objects with identical names exist on the search path e.g.</li>
</ol>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/conflicts.html">conflicts</a></span><span class="op">(</span>detail<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; $`package:graphics`</span></span>
<span><span class="co">#&gt; [1] "plot"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`package:methods`</span></span>
<span><span class="co">#&gt; [1] "body&lt;-"    "kronecker"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`package:base`</span></span>
<span><span class="co">#&gt; [1] "body&lt;-"    "kronecker" "plot"</span></span></code></pre></div>
<p>The instruction <code>find ("object")</code> outputs details on whether and where objects with the name object exist on the search path e.g.</p>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/apropos.html">find</a></span><span class="op">(</span><span class="st">"kronecker"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "package:methods" "package:base"</span></span></code></pre></div>
<ol start="4" style="list-style-type: lower-alpha">
<li>Objects can possess several attributes e.g. </li>
</ol>
<ul>
<li>mode (The way an object is internally stored)</li>
<li>length</li>
<li>names</li>
<li>dim</li>
<li>class</li>
</ul>
<div id="examples-1" class="section level4 unnumbered">
<h4>Examples<a class="anchor" aria-label="anchor" href="#examples-1"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "integer"</span></span>
<span><span class="va">b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>,<span class="st">"b"</span>,<span class="st">"c"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">b</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "factor"</span></span>
<span><span class="va">b</span></span>
<span><span class="co">#&gt; [1] a b c</span></span>
<span><span class="co">#&gt; Levels: a b c</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mode.html">mode</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "numeric"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mode.html">mode</a></span><span class="op">(</span><span class="va">b</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "numeric"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 10</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">b</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 3</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span><span class="va">mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span>,nrow<span class="op">=</span><span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">mat</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3]</span></span>
<span><span class="co">#&gt; [1,]    1    5    9</span></span>
<span><span class="co">#&gt; [2,]    2    6   10</span></span>
<span><span class="co">#&gt; [3,]    3    7   11</span></span>
<span><span class="co">#&gt; [4,]    4    8   12</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">mat</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 4 3</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mode.html">mode</a></span><span class="op">(</span><span class="va">mat</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "numeric"</span></span>
<span><span class="va">logic</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>,<span class="cn">TRUE</span>,<span class="cn">FALSE</span>,<span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mode.html">mode</a></span><span class="op">(</span><span class="va">logic</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "logical"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">logic</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "logical"</span></span></code></pre></div>
<div style="margin-left: 30px; margin-right: 20px;">
<p>Levels show that it is a categorical variable (object).</p>
<p>Mode <code>numeric</code> tells us that the categorical variable (object) <code>b</code> is internally stored as a set of numeric codes.</p>
</div>
<ol start="5" style="list-style-type: lower-alpha">
<li>Special attention is given to the class and mode of integers. An object of type integer is stored internally more effectively than an integer represented in double format.</li>
</ol>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">5</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">5L</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "double"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "integer"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "numeric"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "integer"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mode.html">mode</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "numeric"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mode.html">mode</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "numeric"</span></span></code></pre></div>
<ol start="6" style="list-style-type: lower-alpha">
<li><p>Objects in R are <em><span style="color:#FF9966">vectors</span></em>, <em><span style="color:#FF9966">functions</span></em> or <em><span style="color:#FF9966">lists</span></em>. There are no scalars - instead vectors of length one are used. In addition to the above three types, there are several other types of objects.</p></li>
<li><p>Objects that are created during a session are permanently stored in the <em><span style="color:#FF9696">.RData</span></em> file in the folder containing the <em><span style="color:#3399FF">workspace</span></em> (unless not saved at termination).</p></li>
<li><p>Objects that are created within a function exist only for as long as the function is being executed.</p></li>
<li><p>Use of <code><a href="https://rdrr.io/r/base/rm.html">rm()</a></code> and <code>rm(list = ListOfNames)</code> to remove objects from the <em><span style="color:#3399FF">workspace</span></em>.</p></li>
<li><p>Use of <code><a href="https://rdrr.io/r/base/ls.html">objects()</a></code> or equivalently <code><a href="https://rdrr.io/r/base/ls.html">ls()</a></code> to obtain a list of object names in a data base (by default the <em><span style="color:#3399FF">workspace</span></em>). Note the optional arguments <code>pos</code>, <code>all.names</code> and <code>pattern</code> to specify which database to be considered and what object names to include.</p></li>
<li><p>How can an object be printed to the screen?</p></li>
<li><p><em><span style="color:#FF9966">Warning:</span></em> If a new object is assigned to a name that already exists in the working directory the old object is overwritten without warning and it cannot be retrieved again.</p></li>
</ol>
</div>
</div>
<div id="data-in-r" class="section level3" number="2.1.3">
<h3>
<span class="header-section-number">2.1.3</span> Data in R<a class="anchor" aria-label="anchor" href="#data-in-r"><i class="fas fa-link"></i></a>
</h3>
<ol style="list-style-type: lower-alpha">
<li><p>R has several built-in data sets. Use <code><a href="https://rdrr.io/r/datasets/datasets-package.html">?datasets</a></code> and/or <code><a href="https://rdrr.io/r/base/library.html">library(help= "datasets")</a></code> for details. Note that the two instructions return different information.</p></li>
<li><p>Study the help file of <code><a href="https://rdrr.io/r/base/c.html">c()</a></code>.</p></li>
<li><p>Study the help file of <code><a href="https://rdrr.io/r/base/scan.html">scan()</a></code>.</p></li>
<li><p>Study the help files of <code><a href="https://rdrr.io/r/utils/read.table.html">read.table()</a></code> and <code><a href="https://rdrr.io/r/utils/read.table.html">read.csv()</a></code>. Care must be taken with data containing characters (text) and categorical variables. Reading data into R will be discussed in detail in Chapter <a href="data.html#data">9</a>.</p></li>
</ol>
</div>
<div id="generation-of-data" class="section level3" number="2.1.4">
<h3>
<span class="header-section-number">2.1.4</span> Generation of data<a class="anchor" aria-label="anchor" href="#generation-of-data"><i class="fas fa-link"></i></a>
</h3>
<p>Study the operators and functions <code>:</code>, <code><a href="https://rdrr.io/r/base/seq.html">seq()</a></code>, <code><a href="https://rdrr.io/r/base/rep.html">rep()</a></code>, <code><a href="https://rdrr.io/r/base/rev.html">rev()</a></code>, <code><a href="https://rdrr.io/r/stats/Normal.html">rnorm()</a></code>, <code><a href="https://rdrr.io/r/stats/Uniform.html">runif()</a></code> with the following instructions:</p>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span></span>
<span><span class="fl">8</span><span class="op">:</span><span class="fl">3</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from<span class="op">=</span><span class="fl">1</span>, to<span class="op">=</span><span class="fl">10</span>, length<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from<span class="op">=</span><span class="fl">2</span>, to<span class="op">=</span><span class="fl">10</span>, length<span class="op">=</span><span class="fl">5</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rev.html">rev</a></span><span class="op">(</span><span class="fl">10</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span> <span class="op">(</span><span class="fl">20</span>, mean<span class="op">=</span><span class="fl">50</span>, sd<span class="op">=</span><span class="fl">5</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span> <span class="op">(</span><span class="fl">10</span>, min<span class="op">=</span><span class="fl">1</span>, max<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<p>The function <code><a href="https://rdrr.io/pkg/mvtnorm/man/Mvnorm.html">rmvnorm()</a></code> for generating multivariate normal samples is in the <code>mvtnorm</code> R package. This package must first be loaded by using the instruction</p>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://mvtnorm.R-forge.R-project.org">mvtnorm</a></span><span class="op">)</span></span></code></pre></div>
<p>Alternatively, for generating multivariate normally data there is also a function <code><a href="https://rdrr.io/pkg/MASS/man/mvrnorm.html">mvrnorm()</a></code> in R package <code>MASS</code>.</p>
</div>
</div>
<div id="introduction-to-functions-in-r" class="section level2" number="2.2">
<h2>
<span class="header-section-number">2.2</span> Introduction to functions in R<a class="anchor" aria-label="anchor" href="#introduction-to-functions-in-r"><i class="fas fa-link"></i></a>
</h2>
<p>We introduced R functions in section <a href="intro.html#FunctionIntro">1.9</a>. The basic structure of an R function is as follows:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="objects.html#cb54-1" tabindex="-1"></a>func.name <span class="ot">&lt;-</span> <span class="cf">function</span>(list of arguments)</span>
<span id="cb54-2"><a href="objects.html#cb54-2" tabindex="-1"></a>{</span>
<span id="cb54-3"><a href="objects.html#cb54-3" tabindex="-1"></a>  <span class="co"># R code</span></span>
<span id="cb54-4"><a href="objects.html#cb54-4" tabindex="-1"></a>}</span></code></pre></div>
<p>When the function <code>func.name()</code> is called, the code in <code><a href="https://rdrr.io/r/base/Paren.html">{ }</a></code> is executed.</p>
<p>The arguments of a function can be inspected by using the command</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="objects.html#cb55-1" tabindex="-1"></a><span class="fu">args</span>(name of <span class="cf">function</span>)</span></code></pre></div>
<p>The function <code>str(x)</code> provides information on the object <code>x</code>. If <code>x</code> is a function its output is similar to that of <code><a href="https://rdrr.io/r/base/args.html">args()</a></code>. Default values are given to function arguments using the construction (<code>argument name = value</code>). It is good programming practice to make extensively use of comments to describe arguments and / or what a particular chunk of code does.
What is the usage of the following function:</p>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cube</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">a</span><span class="op">)</span> <span class="va">a</span><span class="op">^</span><span class="fl">3</span></span></code></pre></div>
<p>In the above function the argument a is called a <em><span style="color:#FF9966">dummy argument</span></em>. What will happen to an object <code>a</code> in the working directory?</p>
<p>Functions are called by replacing the <em><span style="color:#FF9966">formal arguments</span></em> by the <em><span style="color:#FF9966">actual arguments</span></em>. This can be done <em><span style="color:#FF9966">by position</span></em> or <em><span style="color:#FF9966">by name</span></em>. <em>Hint</em>: It is less error prone to call functions using named arguments. Create the following function</p>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Demofunc</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">vec</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="va">m</span>,<span class="va">k</span><span class="op">)</span></span>
<span> <span class="op">{</span> <span class="co"># Function to subtract a specified constant from</span></span>
<span>   <span class="co"># each element of a given vector and after subtraction</span></span>
<span>   <span class="co"># divide each element by a second specified constant.</span></span>
<span>   <span class="co"># The result of the above transformation is returned.</span></span>
<span> <span class="op">(</span><span class="va">vec</span> <span class="op">-</span> <span class="va">m</span><span class="op">)</span><span class="op">/</span> <span class="va">k</span> </span>
<span><span class="op">}</span></span></code></pre></div>
<p>Execute the following function calls and explain the output</p>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">Demofunc</span><span class="op">(</span><span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.2</span></span>
<span><span class="fu">Demofunc</span><span class="op">(</span><span class="fl">2</span>,<span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in Demofunc(2, 5): argument "k" is missing, with no default</span></span>
<span><span class="fu">Demofunc</span><span class="op">(</span>m <span class="op">=</span> <span class="fl">2</span>, k <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] -0.2  0.0  0.2  0.4  0.6  0.8  1.0  1.2  1.4  1.6</span></span>
<span><span class="fu">Demofunc</span><span class="op">(</span>m <span class="op">=</span> <span class="fl">2</span>, k <span class="op">=</span> <span class="fl">5</span>, vec <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">100</span><span class="op">)</span></span>
<span><span class="co">#&gt;   [1] -0.2  0.0  0.2  0.4  0.6  0.8  1.0  1.2  1.4  1.6  1.8</span></span>
<span><span class="co">#&gt;  [12]  2.0  2.2  2.4  2.6  2.8  3.0  3.2  3.4  3.6  3.8  4.0</span></span>
<span><span class="co">#&gt;  [23]  4.2  4.4  4.6  4.8  5.0  5.2  5.4  5.6  5.8  6.0  6.2</span></span>
<span><span class="co">#&gt;  [34]  6.4  6.6  6.8  7.0  7.2  7.4  7.6  7.8  8.0  8.2  8.4</span></span>
<span><span class="co">#&gt;  [45]  8.6  8.8  9.0  9.2  9.4  9.6  9.8 10.0 10.2 10.4 10.6</span></span>
<span><span class="co">#&gt;  [56] 10.8 11.0 11.2 11.4 11.6 11.8 12.0 12.2 12.4 12.6 12.8</span></span>
<span><span class="co">#&gt;  [67] 13.0 13.2 13.4 13.6 13.8 14.0 14.2 14.4 14.6 14.8 15.0</span></span>
<span><span class="co">#&gt;  [78] 15.2 15.4 15.6 15.8 16.0 16.2 16.4 16.6 16.8 17.0 17.2</span></span>
<span><span class="co">#&gt;  [89] 17.4 17.6 17.8 18.0 18.2 18.4 18.6 18.8 19.0 19.2 19.4</span></span>
<span><span class="co">#&gt; [100] 19.6</span></span></code></pre></div>
<p>Note the use of <code><a href="https://rdrr.io/r/utils/prompt.html">prompt()</a></code> and <code><a href="https://rdrr.io/r/utils/package.skeleton.html">package.skeleton()</a></code> to provide a new function with a help-file.</p>
<p>The final expression in an R function is automatically returned when the function completes execution.</p>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my.func</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">a</span><span class="op">=</span><span class="fl">5</span><span class="op">)</span> </span>
<span><span class="op">{</span>  <span class="va">a</span><span class="op">+</span><span class="fl">2</span></span>
<span><span class="op">}</span></span>
<span><span class="fu">my.func</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 7</span></span></code></pre></div>
<p>When a function consists of a single line, it can be written more succinctly</p>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my.func</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">a</span><span class="op">=</span><span class="fl">5</span><span class="op">)</span> <span class="op">{</span>  <span class="va">a</span><span class="op">+</span><span class="fl">2</span>  <span class="op">}</span></span>
<span><span class="fu">my.func</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 7</span></span></code></pre></div>
<p>or even without the <code><a href="https://rdrr.io/r/base/Paren.html">{ }</a></code>:</p>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my.func</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">a</span><span class="op">=</span><span class="fl">5</span><span class="op">)</span> <span class="va">a</span><span class="op">+</span><span class="fl">2</span></span>
<span><span class="fu">my.func</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 7</span></span></code></pre></div>
<p>In general, functions will consist of more lines of code and often multiple outputs are returned. If only a single output object needs to be returned, the object can be created in the last line of the code</p>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my.func</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">a</span><span class="op">=</span><span class="fl">5</span><span class="op">)</span></span>
<span>  <span class="op">{</span>  <span class="va">number</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">a</span><span class="op">+</span><span class="fl">3</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span></span>
<span>     <span class="va">number</span><span class="op">/</span><span class="va">a</span></span>
<span>  <span class="op">}</span></span>
<span><span class="fu">my.func</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 12.8</span></span></code></pre></div>
<p>or with a <code><a href="https://rdrr.io/r/base/function.html">return()</a></code> statement:</p>
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my.func</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">a</span><span class="op">=</span><span class="fl">5</span><span class="op">)</span></span>
<span>  <span class="op">{</span>  <span class="va">number</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">a</span><span class="op">+</span><span class="fl">3</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span></span>
<span>     <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">number</span><span class="op">/</span><span class="va">a</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="fu">my.func</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 12.8</span></span></code></pre></div>
<p>In general, all the outputs are combined and returned as a <code>list</code>. The final expression in the function creates the list object:</p>
<div class="sourceCode" id="cb64"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my.func</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">a</span><span class="op">=</span><span class="fl">5</span><span class="op">)</span></span>
<span>  <span class="op">{</span>  <span class="va">number</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">a</span><span class="op">+</span><span class="fl">3</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span></span>
<span>     <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">number</span><span class="op">/</span><span class="va">a</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="fu">my.func</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] 12.8</span></span></code></pre></div>
<p>To return multiple outputs, the list is simply extended as shown below:</p>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my.func</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">a</span><span class="op">=</span><span class="fl">5</span><span class="op">)</span></span>
<span>  <span class="op">{</span>  <span class="va">number</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">a</span><span class="op">+</span><span class="fl">3</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span></span>
<span>     <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">number</span>, <span class="va">number</span><span class="op">/</span><span class="va">a</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="fu">my.func</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] 64</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] 12.8</span></span></code></pre></div>
<p>It is good practice to name the output objects in the list, such as:</p>
<div class="sourceCode" id="cb66"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my.func</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">a</span><span class="op">=</span><span class="fl">5</span><span class="op">)</span></span>
<span>  <span class="op">{</span>  <span class="va">number</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">a</span><span class="op">+</span><span class="fl">3</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span></span>
<span>     <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>number <span class="op">=</span> <span class="va">number</span>, ratio <span class="op">=</span> <span class="va">number</span><span class="op">/</span><span class="va">a</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="fu">my.func</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; $number</span></span>
<span><span class="co">#&gt; [1] 64</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $ratio</span></span>
<span><span class="co">#&gt; [1] 12.8</span></span></code></pre></div>
<p>Finally, to place the output into an object for further processing, the function is assigned to an object name:</p>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my.func</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">a</span><span class="op">=</span><span class="fl">5</span><span class="op">)</span></span>
<span>  <span class="op">{</span>  <span class="va">number</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">a</span><span class="op">+</span><span class="fl">3</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span></span>
<span>     <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>number <span class="op">=</span> <span class="va">number</span>, ratio <span class="op">=</span> <span class="va">number</span><span class="op">/</span><span class="va">a</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">my.func</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">out</span></span>
<span><span class="co">#&gt; $number</span></span>
<span><span class="co">#&gt; [1] 64</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $ratio</span></span>
<span><span class="co">#&gt; [1] 12.8</span></span></code></pre></div>
</div>
<div id="findData" class="section level2" number="2.3">
<h2>
<span class="header-section-number">2.3</span> How R finds data<a class="anchor" aria-label="anchor" href="#findData"><i class="fas fa-link"></i></a>
</h2>
<p>In order to understand how objects are found by R it is necessary to have some understanding of the concepts</p>
<ul>
<li>Environment</li>
<li>Frame</li>
<li>Search path</li>
<li>Parent environment</li>
<li>Inheritance.</li>
</ul>
<p>The mechanism that R uses to organize objects is based on frames and environments. A <em><span style="color:#FF9966">frame</span></em> is a collection of named objects and an <em><span style="color:#FF9966">environment</span></em> consists of a frame together with a pointer or reference to another environment called the <em><span style="color:#FF9966">parent environment</span></em>. Environments are nested so that the <em><span style="color:#3399FF">parent environment</span></em> is the environment that directly contains the current <em><span style="color:#3399FF">environment</span></em>. At the start of an R session a <em><span style="color:#3399FF">workspace</span></em> is created which always has an associated environment, the <em><span style="color:#3399FF">global environment</span></em>. The global environment occupies the first position on the <em><span style="color:#FF9966">search path</span></em> and is accessed by a call to <code><a href="https://rdrr.io/r/base/environment.html">globalenv()</a></code>. Packages and databases can be added to the search path by a call to <code><a href="https://rdrr.io/r/base/attach.html">attach()</a></code> and removed from the search path by a call to <code><a href="https://rdrr.io/r/base/detach.html">detach()</a></code>.</p>
<ul>
<li>What is an R <em><span style="color:#FF9966">package</span></em>? What is the difference between <em><span style="color:#FF9966">installing</span></em> and <em><span style="color:#FF9966">loading</span></em> a package?</li>
<li>Work through the following example:</li>
</ul>
<div class="sourceCode" id="cb68"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/search.html">search</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] ".GlobalEnv"        "package:stats"    </span></span>
<span><span class="co">#&gt; [3] "package:graphics"  "package:grDevices"</span></span>
<span><span class="co">#&gt; [5] "package:utils"     "package:datasets" </span></span>
<span><span class="co">#&gt; [7] "package:methods"   "Autoloads"        </span></span>
<span><span class="co">#&gt; [9] "package:base"</span></span></code></pre></div>
<p>To attach the package <code>MASS</code></p>
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span> <span class="op">(</span><span class="va"><a href="http://www.stats.ox.ac.uk/pub/MASS4/">MASS</a></span><span class="op">)</span></span></code></pre></div>
<p>By default <code>MASS</code> is attached in the second position in the search path.</p>
<div class="sourceCode" id="cb70"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/search.html">search</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] ".GlobalEnv"        "package:MASS"     </span></span>
<span><span class="co">#&gt;  [3] "package:stats"     "package:graphics" </span></span>
<span><span class="co">#&gt;  [5] "package:grDevices" "package:utils"    </span></span>
<span><span class="co">#&gt;  [7] "package:datasets"  "package:methods"  </span></span>
<span><span class="co">#&gt;  [9] "Autoloads"         "package:base"</span></span></code></pre></div>
<p>We use <code>detach</code> to remove <code>MASS</code> from the search path.</p>
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/detach.html">detach</a></span><span class="op">(</span><span class="st">"package:MASS"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/search.html">search</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] ".GlobalEnv"        "package:stats"    </span></span>
<span><span class="co">#&gt; [3] "package:graphics"  "package:grDevices"</span></span>
<span><span class="co">#&gt; [5] "package:utils"     "package:datasets" </span></span>
<span><span class="co">#&gt; [7] "package:methods"   "Autoloads"        </span></span>
<span><span class="co">#&gt; [9] "package:base"</span></span></code></pre></div>
<p>To obtain the parent of the global environment</p>
<div class="sourceCode" id="cb72"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/environment.html">parent.env</a></span><span class="op">(</span><span class="va">.GlobalEnv</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;environment: package:stats&gt;</span></span>
<span><span class="co">#&gt; attr(,"name")</span></span>
<span><span class="co">#&gt; [1] "package:stats"</span></span>
<span><span class="co">#&gt; attr(,"path")</span></span>
<span><span class="co">#&gt; [1] "C:/Program Files/R/R-4.5.1/library/stats"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/environment.html">parent.env</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/environment.html">parent.env</a></span><span class="op">(</span><span class="va">.GlobalEnv</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;environment: package:graphics&gt;</span></span>
<span><span class="co">#&gt; attr(,"name")</span></span>
<span><span class="co">#&gt; [1] "package:graphics"</span></span>
<span><span class="co">#&gt; attr(,"path")</span></span>
<span><span class="co">#&gt; [1] "C:/Program Files/R/R-4.5.1/library/graphics"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/environment.html">parent.env</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/environment.html">parent.env</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/environment.html">parent.env</a></span><span class="op">(</span><span class="va">.GlobalEnv</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;environment: package:grDevices&gt;</span></span>
<span><span class="co">#&gt; attr(,"name")</span></span>
<span><span class="co">#&gt; [1] "package:grDevices"</span></span>
<span><span class="co">#&gt; attr(,"path")</span></span>
<span><span class="co">#&gt; [1] "C:/Program Files/R/R-4.5.1/library/grDevices"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/environment.html">environmentName</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/environment.html">parent.env</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/environment.html">parent.env</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/environment.html">parent.env</a></span><span class="op">(</span><span class="va">.GlobalEnv</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "package:grDevices"</span></span></code></pre></div>
<p>When the R evaluator looks for an object and it cannot find the name in the global environment it will search the parent of the global environment. It will carry on the search along the search path until the first occurrence of the name. If the name is not found it will return the message <code>Error: object 'xx' not found</code>. The usage of the double colon <code>::</code> and the triple colon <code>:::</code> is to access the intended object when more than one object with the same name exist on the search path. These two operators use the <em><span style="color:#3399FF">namespace</span></em> facility of R packages. The <em><span style="color:#FF9966">namespace</span></em> of a package allow the creator of a package to hide functions and data that are meant only for internal use; it provides a way through the operators <code>::</code> and <code>:::</code> to an object within a particular package. Thus a namespace prevent functions from breaking down when a user selects a name that clashes with one in the package. The double-colon operator <code>::</code> selects objects from a particular namespace. Only functions that are exported from the package can be retrieved in this way. The triple-colon operator <code>:::</code> acts like the double-colon operator but also allows access to hidden objects. Packages are often inter-dependent, and loading one may cause others to be automatically loaded. Such automatically loaded packages are not added to the search list.</p>
<p>We note that the <em><span style="color:#FF9966">function</span></em> call <code><a href="https://rdrr.io/r/utils/getAnywhere.html">getAnywhere()</a></code>, which searches multiple packages can be used for finding hidden objects. When a function is called, R creates a new (temporary) environment which is enclosed in the current (calling) environment. Objects created in the new environment are not available in the parent environment and dies with it when the function terminates. Objects in the calling environment are available for use in the new environment created when a function is called.</p>
<p>Similarly, when an <em><span style="color:#FF9966">expression</span></em> is evaluated a hierarchy of environments is created. Search for objects continue up this hierarchy and if necessary to the global environment and from there up onto the search path.</p>
<ul>
<li>Study the use of the arguments <code>pos</code>, <code>all.names</code>, and <code>pattern</code> of the function <code><a href="https://rdrr.io/r/base/ls.html">objects()</a></code>.</li>
<li>Study the behaviour of the functions <code><a href="https://rdrr.io/r/base/conflicts.html">conflicts()</a></code> and <code><a href="https://rdrr.io/r/base/exists.html">exists()</a></code> in the examples below:</li>
</ul>
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/conflicts.html">conflicts</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "body&lt;-"    "kronecker" "plot"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/conflicts.html">conflicts</a></span><span class="op">(</span>detail<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; $`package:graphics`</span></span>
<span><span class="co">#&gt; [1] "plot"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`package:methods`</span></span>
<span><span class="co">#&gt; [1] "body&lt;-"    "kronecker"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`package:base`</span></span>
<span><span class="co">#&gt; [1] "body&lt;-"    "kronecker" "plot"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/exists.html">exists</a></span><span class="op">(</span><span class="st">"kronecker"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/exists.html">exists</a></span><span class="op">(</span><span class="st">"kronecker"</span>, where <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/exists.html">exists</a></span><span class="op">(</span><span class="st">"kronecker"</span>, where <span class="op">=</span> <span class="fl">1</span>, inherits <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/exists.html">exists</a></span><span class="op">(</span><span class="st">"kronecker"</span>, where <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/exists.html">exists</a></span><span class="op">(</span><span class="st">"kronecker"</span>, where <span class="op">=</span> <span class="fl">2</span>, inherits <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/exists.html">exists</a></span><span class="op">(</span><span class="st">"kronecker"</span>, where <span class="op">=</span> <span class="fl">7</span>, inherits <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/exists.html">exists</a></span><span class="op">(</span><span class="st">"kronecker"</span>, where <span class="op">=</span> <span class="fl">8</span>, inherits <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/exists.html">exists</a></span><span class="op">(</span><span class="st">"kronecker"</span>, where <span class="op">=</span> <span class="fl">9</span>, inherits <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<ul>
<li>Study the above code carefully and then explain what inheritance does.</li>
<li>The example below leads to the same conclusion as above but is more complicated at this stage. Its behaviour will become clear as we work through the coming chapters.</li>
</ul>
<div class="sourceCode" id="cb74"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/search.html">search</a></span><span class="op">(</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/exists.html">exists</a></span><span class="op">(</span><span class="st">"kronecker"</span>, where <span class="op">=</span> <span class="va">x</span>, inherits<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;        .GlobalEnv     package:stats  package:graphics </span></span>
<span><span class="co">#&gt;             FALSE             FALSE             FALSE </span></span>
<span><span class="co">#&gt; package:grDevices     package:utils  package:datasets </span></span>
<span><span class="co">#&gt;             FALSE             FALSE             FALSE </span></span>
<span><span class="co">#&gt;   package:methods         Autoloads      package:base </span></span>
<span><span class="co">#&gt;              TRUE             FALSE              TRUE</span></span></code></pre></div>
<ul>
<li>Direct access to objects down the search path can be achieved with the function <code><a href="https://rdrr.io/r/base/get.html">get()</a></code>.
The function <code><a href="https://rdrr.io/r/base/get.html">get()</a></code> takes as its first argument the name of an object as a character string. The optional argument <code>pos</code> can be used to specify where on the search list to look for the object. As an illustration explain the outcomes of the following function calls:</li>
</ul>
<div class="sourceCode" id="cb75"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/get.html">get</a></span> <span class="op">(</span><span class="st">"%o%"</span><span class="op">)</span> </span>
<span><span class="co">#&gt; function (X, Y) </span></span>
<span><span class="co">#&gt; outer(X, Y)</span></span>
<span><span class="co">#&gt; &lt;bytecode: 0x00000204aed7b580&gt;</span></span>
<span><span class="co">#&gt; &lt;environment: namespace:base&gt;</span></span>
<span><span class="va">mean</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span> <span class="op">(</span><span class="fl">1000</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/get.html">get</a></span> <span class="op">(</span><span class="va">mean</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in get(mean): invalid first argument</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/get.html">get</a></span> <span class="op">(</span><span class="st">"mean"</span><span class="op">)</span> </span>
<span><span class="co">#&gt; [1] -0.0169389</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/get.html">get</a></span> <span class="op">(</span><span class="st">"mean"</span>, pos <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> </span>
<span><span class="co">#&gt; [1] -0.0169389</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/get.html">get</a></span> <span class="op">(</span><span class="st">"mean"</span>, pos <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; function (x, ...) </span></span>
<span><span class="co">#&gt; UseMethod("mean")</span></span>
<span><span class="co">#&gt; &lt;bytecode: 0x00000204a9e3fc78&gt;</span></span>
<span><span class="co">#&gt; &lt;environment: namespace:base&gt;</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rm.html">rm</a></span> <span class="op">(</span><span class="va">mean</span><span class="op">)</span></span></code></pre></div>
<ul>
<li>Instead of attaching databases the function <code><a href="https://rdrr.io/r/base/with.html">with()</a></code> is often to be preferred. Discuss the usage of <code><a href="https://rdrr.io/r/base/with.html">with()</a></code> by referring to the instructions:</li>
</ul>
<div class="sourceCode" id="cb76"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/with.html">with</a></span> <span class="op">(</span><span class="va">beaver1</span>, <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">time</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1312.018</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/with.html">with</a></span> <span class="op">(</span><span class="va">beaver2</span>, <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">time</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1446.2</span></span></code></pre></div>
</div>
<div id="the-organisation-of-data-data-structures" class="section level2" number="2.4">
<h2>
<span class="header-section-number">2.4</span> The organisation of data (data structures)<a class="anchor" aria-label="anchor" href="#the-organisation-of-data-data-structures"><i class="fas fa-link"></i></a>
</h2>
<p>Study the help files of <code><a href="https://rdrr.io/r/base/list.html">list()</a></code>, <code><a href="https://rdrr.io/r/base/matrix.html">matrix()</a></code>, <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code> and <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> carefully.</p>
<p>A <em><span style="color:#FF9966">list</span></em> is created with the function <code><a href="https://rdrr.io/r/base/list.html">list()</a></code>. A list is the basic means of storing a collection of data objects in R when the modes and/or lengths of the objects are different. List elements are accessed using <code>[[ ]]</code> or <code>$</code> when the objects are named. List objects are named using the construction</p>
<div class="sourceCode" id="cb77"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my.list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>name1 <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, name2 <span class="op">=</span> <span class="va">mean</span><span class="op">)</span></span>
<span><span class="va">my.list</span></span>
<span><span class="co">#&gt; $name1</span></span>
<span><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $name2</span></span>
<span><span class="co">#&gt; function (x, ...) </span></span>
<span><span class="co">#&gt; UseMethod("mean")</span></span>
<span><span class="co">#&gt; &lt;bytecode: 0x00000204a9e3fc78&gt;</span></span>
<span><span class="co">#&gt; &lt;environment: namespace:base&gt;</span></span></code></pre></div>
<p>and elements are retrieved using the instruction</p>
<div class="sourceCode" id="cb78"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my.list</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt; function (x, ...) </span></span>
<span><span class="co">#&gt; UseMethod("mean")</span></span>
<span><span class="co">#&gt; &lt;bytecode: 0x00000204a9e3fc78&gt;</span></span>
<span><span class="co">#&gt; &lt;environment: namespace:base&gt;</span></span>
<span><span class="va">my.list</span><span class="op">$</span><span class="va">name2</span></span>
<span><span class="co">#&gt; function (x, ...) </span></span>
<span><span class="co">#&gt; UseMethod("mean")</span></span>
<span><span class="co">#&gt; &lt;bytecode: 0x00000204a9e3fc78&gt;</span></span>
<span><span class="co">#&gt; &lt;environment: namespace:base&gt;</span></span></code></pre></div>
<p>A <em><span style="color:#FF9966">matrix</span></em> in R is a rectangular collection of data, all of the same mode (e.g. numeric, character/text or logical). It is formed with the construction</p>
<div class="sourceCode" id="cb79"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my.matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span>, ncol<span class="op">=</span><span class="fl">3</span>, nrow<span class="op">=</span><span class="fl">4</span>, byrow<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">my.matrix</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3]</span></span>
<span><span class="co">#&gt; [1,]    1    5    9</span></span>
<span><span class="co">#&gt; [2,]    2    6   10</span></span>
<span><span class="co">#&gt; [3,]    3    7   11</span></span>
<span><span class="co">#&gt; [4,]    4    8   12</span></span></code></pre></div>
<p>Matrix elements are accessed using <code>my.matrix[i,j]</code>. The functions <code><a href="https://rdrr.io/r/base/nrow.html">nrow()</a></code>, <code><a href="https://rdrr.io/r/base/nrow.html">ncol()</a></code>, <code><a href="https://rdrr.io/r/base/dim.html">dim()</a></code>, <code><a href="https://rdrr.io/r/base/dimnames.html">dimnames()</a></code>, <code><a href="https://rdrr.io/r/base/colnames.html">colnames()</a></code> and <code><a href="https://rdrr.io/r/base/colnames.html">rownames()</a></code> are useful when working with matrices.</p>
<p>A <em><span style="color:#FF9966">dataframe</span></em> is also a rectangular collection of data but the columns can be of different modes. It can be regarded as a cross between a list and a matrix. Dataframes are constructed with the function <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code>.</p>
<p>Study the help files of the above functions.</p>
</div>
<div id="time-series" class="section level2" number="2.5">
<h2>
<span class="header-section-number">2.5</span> Time series<a class="anchor" aria-label="anchor" href="#time-series"><i class="fas fa-link"></i></a>
</h2>
<p>Study the usage of the function <code><a href="https://rdrr.io/r/stats/ts.html">ts()</a></code>.</p>
</div>
<div id="the-functions-as.xxx-and-is.xxx" class="section level2" number="2.6">
<h2>
<span class="header-section-number">2.6</span> The functions <code>as.xxx()</code> and <code>is.xxx()</code><a class="anchor" aria-label="anchor" href="#the-functions-as.xxx-and-is.xxx"><i class="fas fa-link"></i></a>
</h2>
<p>The function <code>as.xxx()</code> transforms an object as best as possible to a specified type e.g. <code>as.matrix(mydata)</code> transforms the numerical dataframe to a numerical matrix. <code>is.xxx()</code> tests if the argument is of a certain type e.g. <code>is.matrix(mydata)</code> evaluates to false if <code>mydata</code> does not satisfy all the conditions of a matrix.</p>
</div>
<div id="simple-manipulations-numbers-and-vectors" class="section level2" number="2.7">
<h2>
<span class="header-section-number">2.7</span> Simple manipulations; numbers and vectors<a class="anchor" aria-label="anchor" href="#simple-manipulations-numbers-and-vectors"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>Explain vector calculations and the recycling principle by referring to the example below.</li>
</ul>
<div class="sourceCode" id="cb80"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span>,<span class="fl">5</span>,<span class="fl">9</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in c(1, 3, 5, 9) + c(1, 2, 3): longer object length</span></span>
<span><span class="co">#&gt; is not a multiple of shorter object length</span></span>
<span><span class="co">#&gt; [1]  2  5  8 10</span></span></code></pre></div>
<ul>
<li>Logical vectors. Explain the behaviour of the instruction below</li>
</ul>
<div class="sourceCode" id="cb81"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span> <span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 3</span></span></code></pre></div>
<ul>
<li>Missing values: <code>NA</code> (indicate a missing value in the data), <code>NaN</code> (not a number)</li>
</ul>
<div class="sourceCode" id="cb82"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">10</span><span class="op">/</span><span class="fl">0</span></span>
<span><span class="co">#&gt; [1] Inf</span></span>
<span><span class="fl">0</span><span class="op">/</span><span class="fl">0</span></span>
<span><span class="co">#&gt; [1] NaN</span></span></code></pre></div>
<ul>
<li><p>Character vectors: see section <a href="operators.html#character">3.5.11</a></p></li>
<li><p>Subscripting vectors: see section <a href="subscripting.html#vectorSubscripting">5.1</a></p></li>
</ul>
</div>
<div id="objects-their-modes-and-attributes" class="section level2" number="2.8">
<h2>
<span class="header-section-number">2.8</span> Objects, their modes and attributes<a class="anchor" aria-label="anchor" href="#objects-their-modes-and-attributes"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>Vector elements must be of same mode: logical, numeric, complex, character</li>
<li>Empty object; once created (e.g. <code>xx &lt;- numeric()</code>) components may be added (e.g. <code>xx[5] &lt;- 22</code>)</li>
<li>Getting and setting attributes: The functions <code><a href="https://rdrr.io/r/base/attr.html">attr()</a></code> and <code><a href="https://rdrr.io/r/base/attributes.html">attributes()</a></code>
</li>
<li>Class of an object and the function <code><a href="https://rdrr.io/r/base/class.html">unclass()</a></code> for removing class.</li>
</ul>
</div>
<div id="representation-of-objects" class="section level2" number="2.9">
<h2>
<span class="header-section-number">2.9</span> Representation of objects<a class="anchor" aria-label="anchor" href="#representation-of-objects"><i class="fas fa-link"></i></a>
</h2>
<p>We have already seen that a representation of an object can be obtained by calling (entering) its name:</p>
<div class="sourceCode" id="cb83"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cars</span></span>
<span><span class="co">#&gt;    speed dist</span></span>
<span><span class="co">#&gt; 1      4    2</span></span>
<span><span class="co">#&gt; 2      4   10</span></span>
<span><span class="co">#&gt; 3      7    4</span></span>
<span><span class="co">#&gt; 4      7   22</span></span>
<span><span class="co">#&gt; 5      8   16</span></span>
<span><span class="co">#&gt; 6      9   10</span></span>
<span><span class="co">#&gt; 7     10   18</span></span>
<span><span class="co">#&gt; 8     10   26</span></span>
<span><span class="co">#&gt; 9     10   34</span></span>
<span><span class="co">#&gt; 10    11   17</span></span>
<span><span class="co">#&gt; 11    11   28</span></span>
<span><span class="co">#&gt; 12    12   14</span></span>
<span><span class="co">#&gt; 13    12   20</span></span>
<span><span class="co">#&gt; 14    12   24</span></span>
<span><span class="co">#&gt; 15    12   28</span></span>
<span><span class="co">#&gt; 16    13   26</span></span>
<span><span class="co">#&gt; 17    13   34</span></span>
<span><span class="co">#&gt; 18    13   34</span></span>
<span><span class="co">#&gt; 19    13   46</span></span>
<span><span class="co">#&gt; 20    14   26</span></span>
<span><span class="co">#&gt; 21    14   36</span></span>
<span><span class="co">#&gt; 22    14   60</span></span>
<span><span class="co">#&gt; 23    14   80</span></span>
<span><span class="co">#&gt; 24    15   20</span></span>
<span><span class="co">#&gt; 25    15   26</span></span>
<span><span class="co">#&gt; 26    15   54</span></span>
<span><span class="co">#&gt; 27    16   32</span></span>
<span><span class="co">#&gt; 28    16   40</span></span>
<span><span class="co">#&gt; 29    17   32</span></span>
<span><span class="co">#&gt; 30    17   40</span></span>
<span><span class="co">#&gt; 31    17   50</span></span>
<span><span class="co">#&gt; 32    18   42</span></span>
<span><span class="co">#&gt; 33    18   56</span></span>
<span><span class="co">#&gt; 34    18   76</span></span>
<span><span class="co">#&gt; 35    18   84</span></span>
<span><span class="co">#&gt; 36    19   36</span></span>
<span><span class="co">#&gt; 37    19   46</span></span>
<span><span class="co">#&gt; 38    19   68</span></span>
<span><span class="co">#&gt; 39    20   32</span></span>
<span><span class="co">#&gt; 40    20   48</span></span>
<span><span class="co">#&gt; 41    20   52</span></span>
<span><span class="co">#&gt; 42    20   56</span></span>
<span><span class="co">#&gt; 43    20   64</span></span>
<span><span class="co">#&gt; 44    22   66</span></span>
<span><span class="co">#&gt; 45    23   54</span></span>
<span><span class="co">#&gt; 46    24   70</span></span>
<span><span class="co">#&gt; 47    24   92</span></span>
<span><span class="co">#&gt; 48    24   93</span></span>
<span><span class="co">#&gt; 49    24  120</span></span>
<span><span class="co">#&gt; 50    25   85</span></span></code></pre></div>
<p>It is often not convenient to have a full representation returned of an object as above. The functions <code><a href="https://rdrr.io/r/utils/head.html">head()</a></code>, <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> and <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> are available for extracting a partial representation of an object:</p>
<div class="sourceCode" id="cb84"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">cars</span><span class="op">)</span></span>
<span><span class="co">#&gt;   speed dist</span></span>
<span><span class="co">#&gt; 1     4    2</span></span>
<span><span class="co">#&gt; 2     4   10</span></span>
<span><span class="co">#&gt; 3     7    4</span></span>
<span><span class="co">#&gt; 4     7   22</span></span>
<span><span class="co">#&gt; 5     8   16</span></span>
<span><span class="co">#&gt; 6     9   10</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">cars</span><span class="op">)</span></span>
<span><span class="co">#&gt;      speed           dist       </span></span>
<span><span class="co">#&gt;  Min.   : 4.0   Min.   :  2.00  </span></span>
<span><span class="co">#&gt;  1st Qu.:12.0   1st Qu.: 26.00  </span></span>
<span><span class="co">#&gt;  Median :15.0   Median : 36.00  </span></span>
<span><span class="co">#&gt;  Mean   :15.4   Mean   : 42.98  </span></span>
<span><span class="co">#&gt;  3rd Qu.:19.0   3rd Qu.: 56.00  </span></span>
<span><span class="co">#&gt;  Max.   :25.0   Max.   :120.00</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">cars</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    50 obs. of  2 variables:</span></span>
<span><span class="co">#&gt;  $ speed: num  4 4 7 7 8 9 10 10 10 11 ...</span></span>
<span><span class="co">#&gt;  $ dist : num  2 10 4 22 16 10 18 26 34 17 ...</span></span></code></pre></div>
<p>There are many more R functions provided for getting information of what an R object represents. Some of these functions like <code><a href="https://rdrr.io/r/base/mode.html">mode()</a></code>, <code><a href="https://rdrr.io/r/base/class.html">class()</a></code>, <code><a href="https://rdrr.io/r/base/length.html">length()</a></code>, <code><a href="https://rdrr.io/r/base/levels.html">levels()</a></code>, <code>is.xxx()</code> and <code>as.xxx()</code> have already been encountered and others will be given in the chapters to come.</p>
<div class="sourceCode" id="cb85"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">cars</span><span class="op">)</span> </span>
<span><span class="co">#&gt; [1] 2</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">cars</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 100</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">cars</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 50  2</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">is.matrix</a></span><span class="op">(</span><span class="va">cars</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">is.data.frame</a></span><span class="op">(</span><span class="va">cars</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/list.html">is.list</a></span><span class="op">(</span><span class="va">cars</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mode.html">mode</a></span><span class="op">(</span><span class="va">cars</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "list"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">cars</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "data.frame"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">cars</span><span class="op">)</span></span>
<span><span class="co">#&gt; NULL</span></span></code></pre></div>
</div>
<div id="exercise-3" class="section level2" number="2.10">
<h2>
<span class="header-section-number">2.10</span> Exercise<a class="anchor" aria-label="anchor" href="#exercise-3"><i class="fas fa-link"></i></a>
</h2>
<div style="color: #80CC99;">
<div id="exercise-4" class="section level3" number="2.10.1">
<h3>
<span class="header-section-number">2.10.1</span> Exercise<a class="anchor" aria-label="anchor" href="#exercise-4"><i class="fas fa-link"></i></a>
</h3>
<p>According to the central limit theorem (CLT) the distribution of the sum (or mean) of independently, identically distributed stochastic variables converges to a normal distribution with an increase in the number variables. The binomial distribution can be expressed as the sum of independently, identically distributed Bernoulli stochastic variables and therefore converges in distribution to the normal distribution. The lognormal distribution in contrast cannot be expressed as a sum.</p>
<p>Make use of the function <code><a href="https://rdrr.io/r/stats/Binomial.html">rbinom()</a></code> to generate a sample of size 10 from a binomial distribution modelling 20 coin flips with a probability of <span class="math inline">\(0.4\)</span> for returning “heads”. Use the function <code><a href="https://rdrr.io/r/graphics/hist.html">hist()</a></code> to graph the results. Repeat with sample sizes <span class="math inline">\(50\)</span>, <span class="math inline">\(100\)</span>, <span class="math inline">\(1000\)</span>, <span class="math inline">\(10000\)</span> and <span class="math inline">\(100000\)</span>.
Repeat the whole study with a success probability of <span class="math inline">\(0.5\)</span>, <span class="math inline">\(0.3\)</span>, <span class="math inline">\(0.1\)</span> and <span class="math inline">\(0.05\)</span>. Discuss your findings.</p>
<p>Now repeat the same exercise using (a) the lognormal distribution with the function <code><a href="https://rdrr.io/r/stats/Lognormal.html">rlnorm()</a></code> and (b) the uniform distribution over the interval <span class="math inline">\([10; 25]\)</span> with the function <code>runif(min = 10, max = 25)</code>. Comment on your findings.</p>
</div>
<div id="exercise-5" class="section level3" number="2.10.2">
<h3>
<span class="header-section-number">2.10.2</span> Exercise<a class="anchor" aria-label="anchor" href="#exercise-5"><i class="fas fa-link"></i></a>
</h3>
<p>Assume that a random sample of size <span class="math inline">\(n\)</span> is available from a certain distribution. A bootstrap sample is obtained by sampling with replacement a sample of size <span class="math inline">\(n\)</span> from the given sample. One of the uses of the bootstrap is to obtain an estimate of the standard error of a statistic. For example, a bootstrap estimate of the standard error of <span class="math inline">\(\bar{X}\)</span> can be obtained as follows:</p>
<ul>
<li>Generate independently of each other <span class="math inline">\(B\)</span> bootstrap samples.</li>
<li>Calculate the mean of the B bootstrap samples, i.e. calculate <span class="math inline">\(\bar{x}_1^*, \bar{x}_2^*, \dots, \bar{x}_B^*\)</span>.</li>
<li>Calculate <span class="math inline">\(\bar{\bar{x}} = \frac{1}{B} \sum_{i=1}^{B}{\bar{x}_i^*}\)</span>.</li>
<li>Calculate <span class="math inline">\(\hat{se}(b) = \sqrt{\frac{1}{B-1} \sum_{i=1}^{B}{(\bar{x}_i^*-\bar{\bar{x}})^2}}\)</span>.</li>
</ul>
<ol style="list-style-type: lower-alpha">
<li><p>Generate a random sample of size <span class="math inline">\(25\)</span> from a <span class="math inline">\(normal (100; 255)\)</span> distribution.</p></li>
<li><p>Use R to obtain graphical representations and statistics of the characteristics of the sample.</p></li>
<li><p>Program the necessary instructions in R to obtain bootstrap estimates of the standard error of the sample mean as well as the sample median. Use <span class="math inline">\(50\)</span>, <span class="math inline">\(100\)</span>, <span class="math inline">\(500\)</span> and <span class="math inline">\(1000\)</span> for <span class="math inline">\(B\)</span> (the number of bootstrap repetitions). How do your answers compare with what is theoretically expected?</p></li>
<li><p>Program the necessary R instructions to obtain graphical representations of the bootstrap distribution in (c).</p></li>
</ol>
</div>
<div id="exercise-6" class="section level3" number="2.10.3">
<h3>
<span class="header-section-number">2.10.3</span> Exercise<a class="anchor" aria-label="anchor" href="#exercise-6"><i class="fas fa-link"></i></a>
</h3>
<p>Generate a random sample of size <span class="math inline">\(50\)</span> from a multivariate normal distribution with mean vector <span class="math inline">\((118, 396, 118, 400)\)</span> and a covariance matrix so that the variances of the variables are given by <span class="math inline">\(778\)</span>, <span class="math inline">\(1810\)</span>, <span class="math inline">\(580\)</span> and <span class="math inline">\(2535\)</span> respectively. Variables 1 and 2 have a covariance of <span class="math inline">\(-642.5\)</span> and variables 3 and 4 have a covariance of <span class="math inline">\(-670\)</span>. The other variables are uncorrelated. Store the sample as a matrix object and then program the necessary R instructions to calculate the sample covariance matrix and sample mean vector.</p>
</div>
<div id="exercise-7" class="section level3" number="2.10.4">
<h3>
<span class="header-section-number">2.10.4</span> Exercise<a class="anchor" aria-label="anchor" href="#exercise-7"><i class="fas fa-link"></i></a>
</h3>
<p>Execute the instruction <code>set.seed(101023)</code>.</p>
<p>Next, obtain <span class="math inline">\(400\)</span> random <span class="math inline">\(normal (0; 1)\)</span> values and arrange them in a matrix with <span class="math inline">\(20\)</span> rows and <span class="math inline">\(20\)</span> columns. Finally, write an R function to calculate and return (i) the sum of all the elements in the matrix, (ii) the eigenvalues of the matrix, (iii) the inverse of the matrix ( Only provide the first three rows and first three columns, e.g. <code>my.inv [1:3, 1:3]</code>) as well as (iv) the rank of the matrix <span style="text-decoration:underline">making use of the eigenvalues</span>.. <em>Hint</em>: Read the help of the functions <code><a href="https://rdrr.io/r/base/eigen.html">eigen()</a></code> and <code><a href="https://rdrr.io/r/base/solve.html">solve()</a></code>.)</p>
</div>
</div>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="intro.html"><span class="header-section-number">1</span> Introducing the R System</a></div>
<div class="next"><a href="operators.html"><span class="header-section-number">3</span> R operators and functions</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#objects"><span class="header-section-number">2</span> Managing objects</a></li>
<li>
<a class="nav-link" href="#instructions-and-objects-in-r"><span class="header-section-number">2.1</span> Instructions and objects in R</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#general"><span class="header-section-number">2.1.1</span> General</a></li>
<li><a class="nav-link" href="#objects-in-r"><span class="header-section-number">2.1.2</span> Objects in R</a></li>
<li><a class="nav-link" href="#data-in-r"><span class="header-section-number">2.1.3</span> Data in R</a></li>
<li><a class="nav-link" href="#generation-of-data"><span class="header-section-number">2.1.4</span> Generation of data</a></li>
</ul>
</li>
<li><a class="nav-link" href="#introduction-to-functions-in-r"><span class="header-section-number">2.2</span> Introduction to functions in R</a></li>
<li><a class="nav-link" href="#findData"><span class="header-section-number">2.3</span> How R finds data</a></li>
<li><a class="nav-link" href="#the-organisation-of-data-data-structures"><span class="header-section-number">2.4</span> The organisation of data (data structures)</a></li>
<li><a class="nav-link" href="#time-series"><span class="header-section-number">2.5</span> Time series</a></li>
<li><a class="nav-link" href="#the-functions-as.xxx-and-is.xxx"><span class="header-section-number">2.6</span> The functions as.xxx() and is.xxx()</a></li>
<li><a class="nav-link" href="#simple-manipulations-numbers-and-vectors"><span class="header-section-number">2.7</span> Simple manipulations; numbers and vectors</a></li>
<li><a class="nav-link" href="#objects-their-modes-and-attributes"><span class="header-section-number">2.8</span> Objects, their modes and attributes</a></li>
<li><a class="nav-link" href="#representation-of-objects"><span class="header-section-number">2.9</span> Representation of objects</a></li>
<li>
<a class="nav-link" href="#exercise-3"><span class="header-section-number">2.10</span> Exercise</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#exercise-4"><span class="header-section-number">2.10.1</span> Exercise</a></li>
<li><a class="nav-link" href="#exercise-5"><span class="header-section-number">2.10.2</span> Exercise</a></li>
<li><a class="nav-link" href="#exercise-6"><span class="header-section-number">2.10.3</span> Exercise</a></li>
<li><a class="nav-link" href="#exercise-7"><span class="header-section-number">2.10.4</span> Exercise</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/sugnet/RTutorial/blob/master/02-objects.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/sugnet/RTutorial/edit/master/02-objects.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Introduction into R Applications and Programming: A Tutorial</strong>" was written by Niël J le Roux and Sugnet Lubbe. It was last built on 2025.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
