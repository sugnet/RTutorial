<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 1 Introducing the R System | Introduction into R Applications and Programming: A Tutorial</title>
<meta name="author" content="Niël J le Roux and Sugnet Lubbe">
<meta name="description" content="1.1 Introduction This chapter introduces the R system to the new R user. The Windows operating system is emphasized but most of the material covered also applies to other operating systems after...">
<meta name="generator" content="bookdown 0.44 with bs4_book()">
<meta property="og:title" content="Chapter 1 Introducing the R System | Introduction into R Applications and Programming: A Tutorial">
<meta property="og:type" content="book">
<meta property="og:url" content="https://github.com/sugnet/RTutorial/intro.html">
<meta property="og:image" content="https://github.com/sugnet/RTutorial/frontcover.jpg">
<meta property="og:description" content="1.1 Introduction This chapter introduces the R system to the new R user. The Windows operating system is emphasized but most of the material covered also applies to other operating systems after...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 1 Introducing the R System | Introduction into R Applications and Programming: A Tutorial">
<meta name="twitter:description" content="1.1 Introduction This chapter introduces the R system to the new R user. The Windows operating system is emphasized but most of the material covered also applies to other operating systems after...">
<meta name="twitter:image" content="https://github.com/sugnet/RTutorial/frontcover.jpg">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.9.0/transition.js"></script><script src="libs/bs3compat-0.9.0/tabs.js"></script><script src="libs/bs3compat-0.9.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
          margin-bottom: 1em;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Introduction into R Applications and Programming: A Tutorial</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Preface</a></li>
<li><a class="active" href="intro.html"><span class="header-section-number">1</span> Introducing the R System</a></li>
<li><a class="" href="objects.html"><span class="header-section-number">2</span> Managing objects</a></li>
<li><a class="" href="operators.html"><span class="header-section-number">3</span> R operators and functions</a></li>
<li><a class="" href="graphics.html"><span class="header-section-number">4</span> Introducing traditional R graphics</a></li>
<li><a class="" href="subscripting.html"><span class="header-section-number">5</span> Subscripting</a></li>
<li><a class="" href="revision.html"><span class="header-section-number">6</span> Revision tasks</a></li>
<li><a class="" href="functions.html"><span class="header-section-number">7</span> Writing functions in R</a></li>
<li><a class="" href="mapping.html"><span class="header-section-number">8</span> Vectorized programming and mapping functions</a></li>
<li><a class="" href="data.html"><span class="header-section-number">9</span> Reading data files into R, formatting and printing</a></li>
<li><a class="" href="graphics2.html"><span class="header-section-number">10</span> R graphics: Round II</a></li>
<li><a class="" href="modelling.html"><span class="header-section-number">11</span> Statistical modelling with R</a></li>
<li><a class="" href="optimisation.html"><span class="header-section-number">12</span> Introduction to Optimisation</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/sugnet/RTutorial">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="intro" class="section level1" number="1">
<h1>
<span class="header-section-number">1</span> Introducing the R System<a class="anchor" aria-label="anchor" href="#intro"><i class="fas fa-link"></i></a>
</h1>
<div id="introduction" class="section level2" number="1.1">
<h2>
<span class="header-section-number">1.1</span> Introduction<a class="anchor" aria-label="anchor" href="#introduction"><i class="fas fa-link"></i></a>
</h2>
<p>This chapter introduces the R system to the new R user. The Windows operating system is emphasized but most of the material covered also applies to other operating systems after allowing for the requirements of the particular operating system in use. Users with some experience with R should quickly glance through this chapter making sure they have mastered all topics covered here before proceeding with the main tutorial starting with Chapter 2.</p>
<p>In the computer age statistics has become inseparable from being able to write computer programs. Therefore, let us start with a reminder of the Fundamental Goal of S:</p>
<div style="color: #FF9966;">
<p><strong><em>Conversion of an idea into useful software</em></strong></p>
</div>
<p>The challenge is to pursue this goal keeping in mind the Mission of R <span class="citation">(<a href="references.html#ref-Chambers2008">Chambers, 2008</a>)</span>:</p>
<div style="color: #FF9966;">
<p><strong><em>… to enable the best and most thorough exploration of data possible</em></strong></p>
</div>
<p>and its Prime Directive <span class="citation">(<a href="references.html#ref-Chambers2008">Chambers, 2008</a>)</span>:</p>
<div style="color: #FF9966;">
<p><strong><em>… places and obligation on all creators of software to program in such a way that the computations can be understood and trusted</em></strong>.</p>
</div>
</div>
<div id="downloading-the-r-system" class="section level2" number="1.2">
<h2>
<span class="header-section-number">1.2</span> Downloading the R system<a class="anchor" aria-label="anchor" href="#downloading-the-r-system"><i class="fas fa-link"></i></a>
</h2>
<p><a href="http://www.R-project.org">Website for downloading R</a>.</p>
<p>To download R to your own computer: Navigate to <em>…/bin/windows/base</em> and save the file <em>R-x.y.z.-win.exe</em> on your computer. Click this file to start the installation procedure and select the defaults unless you have a good reason not to do so. If you select ‘Create desktop icon’ during the installation phase, an icon similar to the one below should appear on the desktop. Alternatively, you can find R under <em>All Applications</em>.</p>
<div class="inline-figure"><img src="pics/Rlogo.jpg"></div>
<p>The core R system that is installed includes several <em><span style="color:#FF9966">packages</span></em>. Apart from these installed packages several thousands of dedicated <em><span style="color:#FF9966">contributed packages</span></em> are available to be downloaded by users in need of any of them.</p>
</div>
<div id="QuickSample" class="section level2" number="1.3">
<h2>
<span class="header-section-number">1.3</span> A quick sample R session<a class="anchor" aria-label="anchor" href="#QuickSample"><i class="fas fa-link"></i></a>
</h2>
<p>Click the R icon created on your desktop to open the <em><span style="color:#FF9966">Commands Window</span></em> or <em><span style="color:#FF9966">Console</span></em>. Notice the R prompt <code>&gt;</code> waiting for some instruction from the user.</p>
<ol style="list-style-type: lower-alpha">
<li>At the R prompt <code>&gt;</code> enter <code>5 – 8</code>. We will follow the following convention to write instructions:</li>
</ol>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">5</span> <span class="op">-</span> <span class="fl">8</span></span>
<span><span class="co">#&gt; [1] -3</span></span></code></pre></div>
<ol start="2" style="list-style-type: lower-alpha">
<li>Repeat (a) but enter only 5 – and see what happens:</li>
</ol>
<div class="sourceCode" id="cb2"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb2-1"><a href="intro.html#cb2-1" tabindex="-1"></a>&gt; 5 -</span>
<span id="cb2-2"><a href="intro.html#cb2-2" tabindex="-1"></a>&gt; +</span>
<span id="cb2-3"><a href="intro.html#cb2-3" tabindex="-1"></a>&gt; +</span></code></pre></div>
<div style="margin-left: 25px; margin-right: 20px;">
<p>The above <code>+</code> is the secondary R prompt. It indicates that an instruction is unfinished. Either respond by completing the instruction or press the <span style="color:#3399FF">Esc</span> key to start all over again from the primary prompt.</p>
</div>
<ol start="3" style="list-style-type: lower-alpha">
<li>Enter</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">xx</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span></span></code></pre></div>
<div style="margin-left: 25px; margin-right: 20px;">
<p>This instruction creates an R object with name (or label) <code>xx</code> containing the vector
(1, 2, 3, 4, 5, 6, 7, 8, 10).</p>
</div>
<ol start="4" style="list-style-type: lower-alpha">
<li>Enter</li>
</ol>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">yy</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">20</span>, mean <span class="op">=</span> <span class="fl">50</span>, sd <span class="op">=</span> <span class="fl">15</span><span class="op">)</span> </span></code></pre></div>
<div style="margin-left: 25px; margin-right: 20px;">
<p>This instruction creates an R object with name <code>yy</code> containing a random sample of 20 values from a normal distribution with a mean of 50 and a standard deviation of 15.</p>
</div>
<ol start="5" style="list-style-type: lower-alpha">
<li>Enter</li>
</ol>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">xx</span></span>
<span><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span></code></pre></div>
<div style="margin-left: 25px; margin-right: 20px;">
<p>The above example shows that <span style="color:#FF9966">when the name of an R object is entered at the prompt, R will respond by displaying the contents of the object</span>.</p>
</div>
<ol start="6" style="list-style-type: lower-alpha">
<li><p>Obtain a representation of the contents of the object <code>yy</code> created in (d).</p></li>
<li>
<p>A program in R is called a <em><span style="color:#FF9966">function</span></em>. Any function in R is also an R <em><span style="color:#FF9966">object</span></em> and therefore has a name (or label). It follows from (e) that if the name of a function is entered at the prompt, R will respond by displaying the contents of the function.</p>
<p>How then can an R function be executed i.e. how can an R function be called? Apart from its name an R function has a list of arguments enclosed within parentheses. An R function is called by entering its name followed by a list of arguments enclosed within parentheses. As an example, let us calculate the mean of the object <code>yy</code> created above by calling the function <code>mean</code>:</p>
</li>
</ol>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">yy</span><span class="op">)</span> </span>
<span><span class="co">#&gt; [1] 47.38142</span></span></code></pre></div>
<div style="margin-left: 25px; margin-right: 20px;">
<p>Note that the prompt appear followed by the mean of object <code>yy</code>.</p>
</div>
<ol start="8" style="list-style-type: lower-alpha">
<li><p>Objects created during an R session in the workspace are stored in a database <span style="color:#FFB3B3">.RData</span> in the current folder. A listing of all the objects in a database can be obtained by calling the functions <code><a href="https://rdrr.io/r/base/ls.html">ls()</a></code> or <code><a href="https://rdrr.io/r/base/ls.html">objects()</a></code>. Now, first enter, at the R prompt, the instruction <code>objects</code> (or <code>ls</code>) and then the instruction <code><a href="https://rdrr.io/r/base/ls.html">objects()</a></code> (or <code><a href="https://rdrr.io/r/base/ls.html">ls()</a></code>). Explain what has happened.</p></li>
<li><p>Objects can be removed by the following instruction: <code>rm(name1, name2, ... )</code>.</p></li>
<li><p>Apart from the <em><span style="color:#FF9966">console</span></em> there are several other types of windows available in R e.g. graphs are displayed in graph windows. To illustrate, enter the following instructions at the R prompt in the console or commands window:</p></li>
</ol>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gr.data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">1000</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="va">gr.data</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="01-intro_files/figure-html/unnamed-chunk-7-1.png" width="672"></div>
<div style="margin-left: 25px; margin-right: 20px;">
<p>These instructions have resulted in the opening of a graph window containing the required histogram and the user can switch from the console to the graph window and back again to the console.</p>
</div>
<ol start="11" style="list-style-type: lower-alpha">
<li>The R session can be terminated by closing the window or entering <code><a href="https://rdrr.io/r/base/quit.html">q()</a></code> at the R prompt. Either way the user is prompted to save the workspace. If the user chooses not to save, all objects created during the session are lost.</li>
</ol>
</div>
<div id="working-with-rstudio" class="section level2" number="1.4">
<h2>
<span class="header-section-number">1.4</span> Working with RStudio<a class="anchor" aria-label="anchor" href="#working-with-rstudio"><i class="fas fa-link"></i></a>
</h2>
<p>Many users of R prefer working with <strong><span style="color:#3399FF">RStudio</span></strong>. RStudio is a free and open source integrated development environment for R which works with the standard version of R available from CRAN. It can be downloaded from the <a href="www.rstudio.com">RStudio</a> home page to be run from your desktop (Windows, Mac or Linux). Full details about the functionality of RStudio are available from its home page. Here, only a brief introduction to RStudio is given.</p>
<p>When RStudio is installed on your computer the following icon is created on the desktop:</p>
<div class="inline-figure"><img src="pics/RStudio.jpg"></div>
<p>Clicking the above icon open the RStudio development environment as shown in Figure <a href="intro.html#fig:RStudioLayout">1.1</a>. In order to open any R workspace with RStudio drag the corresponding <span style="color:#FFB3B3">.RData</span> file to the above RStudio icon and drop it as soon as ‘Open with RStudio’ becomes visible.</p>
<div class="figure">
<span style="display:block;" id="fig:RStudioLayout"></span>
<img src="pics/RStudio_layout.jpg" alt="The RStudio development environment for R."><p class="caption">
Figure 1.1: The RStudio development environment for R.
</p>
</div>
<p>The bottom left-hand panel is the familiar R console.</p>
<p>The bottom right-hand panel is used for :
(a) a listing of the files in the folder where the <span style="color:#3399FF">workspace</span> (<span style="color:#FFB3B3">.RData</span>) for the active project is kept
(b) a listing of all installed packages available to be attached to the search path as well as menus for installing and updating packages
(c) the graph windows (if any)
(d) the Help facilities.</p>
<p>The top left-hand panel can be used for creating and managing script files (see <a href="intro.html#script">1.9.1</a>) while the top right-hand panel provides information on the objects in the current folder as well as the history of previous commands given in the console.</p>
</div>
<div id="r-an-interpretive-computer-language" class="section level2" number="1.5">
<h2>
<span class="header-section-number">1.5</span> R: an interpretive computer language<a class="anchor" aria-label="anchor" href="#r-an-interpretive-computer-language"><i class="fas fa-link"></i></a>
</h2>
<p>Essentially, in an interpretive language instructions are given one by one. Each instruction is then evaluated or interpreted in turn by an internal program called an <em><span style="color:#FF9966">interpreter</span></em> or <em><span style="color:#FF9966">evaluator</span></em> and some immediate action is taken. For example, the instruction given in <a href="intro.html#QuickSample">1.3</a>(a) is evaluated by the R evaluator resulting in the answer <code>–3</code> being returned. On the other hand, in <a href="intro.html#QuickSample">1.3</a>(b) the evaluator found the instruction to be incomplete and therefore asked for more information.</p>
<p>An advantage of an interpretive language is that intermediate results can be obtained quickly without having first to wait for a complete program to finish as is the case with a compiler language. In the latter case a complete program is translated (or compiled) by a program called a compiler. The compiled program can then be converted to a standalone application that can be called by other programs to perform a complete task. In general compiler languages handle computer memory relatively more efficiently and calculations are executed more speedily.
Communication with the R evaluator takes place through a set of instructions called <em><span style="color:#FF9966">escape sequences</span></em>. These escape sequences take the form of a backslash preceding a character. Examples of such escape sequences are:</p>
<p><code>\n</code> new line</p>
<p><code>\r</code> carriage return</p>
<p><code>\t</code> go to next tab stop</p>
<p><code>\b</code> backspace</p>
<p><code>\a</code> bell</p>
<p><code>\f</code> form feed</p>
<p><code>\v</code> vertical tab</p>
<p>A consequence of the above role of the backslash in R is that a single backslash in a filename will not be properly recognized. Therefore, when referring in R to the following file path <em><span style="color:#FFB3B3">“c:\My Documents\myFile.txt”</span></em> all backslashes must be entered as double backslashes i.e. <code>"c:\\My Documents\\myFile.txt"</code> or as <code>"c:/My Documents/myFile.txt"</code>.</p>
<div id="exercise" class="section level3" number="1.5.1">
<h3>
<span class="header-section-number">1.5.1</span> Exercise<a class="anchor" aria-label="anchor" href="#exercise"><i class="fas fa-link"></i></a>
</h3>
<div style="color: #80CC99;">
<p>The <code><a href="https://rdrr.io/r/base/cat.html">cat()</a></code> function can be used to write a text message to the console. Initialize a new R session and investigate the results of the following R instructions:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"aaa bbb"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"aaa bbb \n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"aaa \n bbb \n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"aaa \nbbb \n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"aaa \t\t bbb \n"</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"aaa\b\b\bbbb \n"</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"aaa \n\a bbb \a\n"</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"1\a\n"</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"2\a\n"</span><span class="op">)</span></span></code></pre></div>
<p>What is the purpose of the semi-colon in the line above?</p>
<p>Could you distinguish the two soundings of the bell? Try the following:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"1\a\n"</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"2\a\n"</span><span class="op">)</span> </span></code></pre></div>
<p>Could you now distinguish the two soundings of the bell?</p>
<p>What is the purpose of the <code><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep()</a></code> instruction?</p>
</div>
</div>
<div id="exercise-1" class="section level3" number="1.5.2">
<h3>
<span class="header-section-number">1.5.2</span> Exercise<a class="anchor" aria-label="anchor" href="#exercise-1"><i class="fas fa-link"></i></a>
</h3>
<div style="color: #80CC99;">
<p>Write R code to achieve the following output:</p>
<p><code>My name is:</code></p>
<p>Bell sounds once.</p>
<p>Your name appears on a new line.</p>
<p>Two distinct sounds of the bell are heard and</p>
<p><code>Thank you</code> is visible on a new line.</p>
<p>The cursor appears on a new line.</p>
</div>
</div>
</div>
<div id="accessing-the-help-functionality" class="section level2" number="1.6">
<h2>
<span class="header-section-number">1.6</span> Accessing the Help functionality<a class="anchor" aria-label="anchor" href="#accessing-the-help-functionality"><i class="fas fa-link"></i></a>
</h2>
<ol style="list-style-type: lower-alpha">
<li>Use</li>
</ol>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="va">mean</span></span></code></pre></div>
<div style="margin-left: 25px; margin-right: 20px;">
<p>to obtain help on the usage of the R function <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code>.</p>
</div>
<ol start="2" style="list-style-type: lower-alpha">
<li>Find out what is the difference between the instructions</li>
</ol>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="va">mean</span></span></code></pre></div>
<div style="margin-left: 25px; margin-right: 20px;">
<p>and</p>
</div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="op">?</span><span class="va">mean</span></span></code></pre></div>
<ol start="3" style="list-style-type: lower-alpha">
<li>What help is available via the instruction</li>
</ol>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/help.start.html">help.start</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<ol start="4" style="list-style-type: lower-alpha">
<li>Use</li>
</ol>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="fu"><a href="https://rdrr.io/r/utils/help.search.html">help.search</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div style="margin-left: 25px; margin-right: 20px;">
<p>to find out how to obtain help using the R function <code>help.search(xx)</code>. Note: For hep on an operator or reserved word quotes are needed, e.g.</p>
</div>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="va">matrix</span></span></code></pre></div>
<div style="margin-left: 25px; margin-right: 20px;">
<p>but</p>
</div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="st">"?"</span></span></code></pre></div>
<div style="margin-left: 25px; margin-right: 20px;">
<p>or</p>
</div>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="st">"for"</span></span></code></pre></div>
</div>
<div id="MoreBasics" class="section level2" number="1.7">
<h2>
<span class="header-section-number">1.7</span> More R basics<a class="anchor" aria-label="anchor" href="#MoreBasics"><i class="fas fa-link"></i></a>
</h2>
<ol style="list-style-type: lower-alpha">
<li><p>R as an <em><span style="color:#FF9966">interactive</span></em> language allows for fast acquisition of results.</p></li>
<li><p>R is a <em><span style="color:#FF9966">functional</span></em> language in two important senses: In a more technical sense it means the R model of computation relies more on <em><span style="color:#FF9966">function evaluation</span></em> than by procedural computations and changes of state. The second sense refers to the way how users communicate to R namely almost entirely through <em><span style="color:#FF9966">function calls</span></em>.</p></li>
<li><p>R as an <em><span style="color:#FF9966">object-oriented</span></em> language refers in a technical sense to the S4 or S5 type of objects with their associated classes and methods as mentioned in the Preface. In a less technical sense it means that everything in R is an object.</p></li>
<li><p>R objects will be studied in detail in later chapters. What is important for now, is the following:</p></li>
</ol>
<ul>
<li>Everything in R is an object.</li>
<li>There are different types of objects e.g. function objects, data objects, graphics objects, character objects, numeric objects.</li>
<li>Usually objects are stored in the current folder called the <em><span style="color:#FF9966">Global environment</span></em>; recognized by R under the name <code>.GlobalEnv</code> and available in the file system under the name <em><span style="color:#FFB3B3">.RData</span></em>.</li>
<li>Objects are created from the console by <em><span style="color:#FF9966">assignment</span></em> through the instruction</li>
</ul>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">name</span> <span class="op">&lt;-</span> <span class="va">object</span></span></code></pre></div>
<div style="margin-left: 32px; margin-right: 20px;">
<p>or</p>
</div>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">object</span> <span class="op">&lt;-</span> <span class="va">name</span></span></code></pre></div>
<ul>
<li>In R names are <em><span style="color:#FF9966">case sensitive</span></em> i.e. peter and Peter are two different objects.</li>
<li>Objects created by assignment during an R session are stored permanently in the Global environment (working directory) unless the user chooses not to save when terminating an R session.</li>
<li>Care must be exercised when creating a new object by assignment: if an object with the name my.object already exists in the Global environment and a new object is created by assigning it to the name my.object then the old my.object is over-written and it is replaced by the new object <em><span style="color:#FF9966">without any warning</span></em>.</li>
<li>Remember the way the R evaluator operates: if an object name is given at the R prompt the R evaluator responds by displaying the content of the object. Review the difference between the instructions</li>
</ul>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">q</span></span></code></pre></div>
<div style="margin-left: 32px; margin-right: 20px;">
<p>and</p>
</div>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/quit.html">q</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<ol start="5" style="list-style-type: lower-alpha">
<li>The symbol <code>#</code> marks a comment. Everything following a <code>#</code> on a line is ignored by the R evaluator. Check for example the result of the instruction</li>
</ol>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">5</span><span class="op">+</span><span class="fl">8</span> <span class="co"># +12</span></span>
<span><span class="co">#&gt; [1] 13</span></span></code></pre></div>
<ol start="6" style="list-style-type: lower-alpha">
<li><p>Usage of the symbols <code>&lt;-</code>, <code>=</code> and <code>==</code>. The symbol <code>&lt;-</code> is used for assigning the object on its right-hand side to a name (label) on its left-hand side; the equality sign <code>=</code> is used for specifying the arguments of functions while the double equality symbol <code>==</code> is used for comparison purposes. In earlier versions of R these rules were strictly applied by the R evaluator. However, in recent versions of R the evaluator allows the equality sign also in the case for assigning an object to a name. We believe that reserving the equality sign only for argument specifications in functions leads to more clarity when writing complex functions and therefore we discourage its usage for creating objects by assignment. In this book creating objects by assignment will be exclusively carried out with the assignment symbol <code>&lt;-</code>.</p></li>
<li><p>The symbol <code>-&gt;</code> assigns the object on its left-hand side to the name (label) on its right-hand side.</p></li>
<li><p>Working with packages: The core installation includes several packages. To see them issue the command <code><a href="https://rdrr.io/r/base/search.html">search()</a></code> from the R prompt in the console. Notice that the first object in the search list is <code>.GlobalEnv</code>. This is followed by other objects. Packages are recognized by the string package followed by a colon and the name of the package. In order for a package to be used the following steps must be followed: if the package has been <em><span style="color:#FF9966">installed</span></em> previously it needs only to be <em><span style="color:#FF9966">loaded</span></em> into the search path using the command <code><a href="https://rdrr.io/r/base/library.html">library(packagename)</a></code> from the R prompt. This will load the package by default in the second position on the search path. If the package has not been installed previously it must first be installed. This is most easily done using the top menu Packages. The command <code><a href="https://rdrr.io/r/base/library.html">require(packagename)</a></code> appears to be identical to <code><a href="https://rdrr.io/r/base/library.html">library(packagename)</a></code>. The function <code><a href="https://rdrr.io/r/base/library.html">require()</a></code> is designed for use inside other functions as it gives a warning, rather than an error, if the package does not exist.</p></li>
<li><p>More on the help (<code>?</code>) facility: Table <a href="intro.html#tab:HelpQueries">1.1</a> contains details about help available for some special keywords.</p></li>
</ol>
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:HelpQueries">Table 1.1: </span> Some useful keywords available for help queries.</caption>
<colgroup>
<col width="28%">
<col width="71%">
</colgroup>
<thead><tr class="header">
<th><em><span style="color:#CC99FF">Help query</span></em></th>
<th><em><span style="color:#CC99FF">Explanation</span></em></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code><a href="https://rdrr.io/r/base/Arithmetic.html">?Arithmetic</a></code></td>
<td>Unary and binary operators to perform arithmetic on numeric and complex vectors</td>
</tr>
<tr class="even">
<td><code><a href="https://rdrr.io/r/base/Comparison.html">?Comparison</a></code></td>
<td>Binary operators for comparison of values in vectors</td>
</tr>
<tr class="odd">
<td><code><a href="https://rdrr.io/r/base/Control.html">?Control</a></code></td>
<td>The basic constructs for control of the flow in R instructions</td>
</tr>
<tr class="even">
<td><code>?dotsMethods</code></td>
<td>The use of the special operator <code>...</code>
</td>
</tr>
<tr class="odd">
<td><code><a href="https://rdrr.io/r/base/Extract.html">?Extract</a></code></td>
<td>Operators to extract or replace parts of vectors, matrices, arrays and lists</td>
</tr>
<tr class="even">
<td><code><a href="https://rdrr.io/r/base/Logic.html">?Logic</a></code></td>
<td>Logical operators for operating on logical and numeric vectors</td>
</tr>
<tr class="odd">
<td><code><a href="https://rdrr.io/r/base/zMachine.html">?.Machine</a></code></td>
<td>Information on the variable <code>.Machine</code> holding information on the numerical characteristics of the machine R is running on</td>
</tr>
<tr class="even">
<td><code><a href="https://rdrr.io/r/base/NumericConstants.html">?NumericConstants</a></code></td>
<td>How R parses numeric constants including <code>Inf</code>, <code>NaN</code>, <code>NA</code>
</td>
</tr>
<tr class="odd">
<td><code><a href="https://rdrr.io/r/base/options.html">?options</a></code></td>
<td>Allow the user to set and examine a variety of global options which affect the way in which R computes and displays its results</td>
</tr>
<tr class="even">
<td><code><a href="https://rdrr.io/r/base/Paren.html">?Paren</a></code></td>
<td>Parentheses and braces in R</td>
</tr>
<tr class="odd">
<td><code><a href="https://rdrr.io/r/base/Quotes.html">?Quotes</a></code></td>
<td>Single and double quotation marks. Back quote (backtick) and backslash for starting an escape sequence</td>
</tr>
<tr class="even">
<td><code><a href="https://rdrr.io/r/base/Reserved.html">?Reserved</a></code></td>
<td>Description of reserved words in R</td>
</tr>
<tr class="odd">
<td><code><a href="https://rdrr.io/r/base/Special.html">?Special</a></code></td>
<td>Special mathematical functions related to the beta and gamma functions including permutations and combinations</td>
</tr>
<tr class="even">
<td><code><a href="https://rdrr.io/r/base/Syntax.html">?Syntax</a></code></td>
<td>Outlines R syntax and gives the precedence of operators</td>
</tr>
</tbody>
</table></div>
</div>
<div id="regular-expressions-in-r-the-basics" class="section level2" number="1.8">
<h2>
<span class="header-section-number">1.8</span> Regular expressions in R: the basics<a class="anchor" aria-label="anchor" href="#regular-expressions-in-r-the-basics"><i class="fas fa-link"></i></a>
</h2>
<p>It follows from <a href="intro.html#MoreBasics">1.7</a>(d) that care must be taken when objects are assigned to names. Furthermore, the Global environment or any other R database may easily contain hundreds of objects. Therefore, a frequent task is to search for patterns in the names of objects e.g. searching for all object names starting with “Figure” or ending in “.dat”. The R function <code><a href="https://rdrr.io/r/base/ls.html">objects()</a></code> or <code><a href="https://rdrr.io/r/base/ls.html">ls()</a></code> has arguments <code>pos</code> and <code>pattern</code> for specifying the position of a database to search and a pattern of characters appearing in a name (or string), respectively. The pattern argument can be given any <em><span style="color:#FF9966">regular expression</span></em>. Regular expressions provide a method of expressing patterns in character values and are used to perform various tasks in R. Here we are only considering the task of extracting certain specified objects in a database using the pattern argument of <code><a href="https://rdrr.io/r/base/ls.html">objects()</a></code> or <code><a href="https://rdrr.io/r/base/ls.html">ls()</a></code>.</p>
<p>The syntax of regular expressions follows different rules to the syntax of ordinary R instructions. Moreover its syntax differs depending on the particular implementation a program uses. By default, R uses a set of regular expressions similar to those used by UNIX utilities, but function arguments are available for changing the default e.g. by setting argument <code>perl = TRUE</code>.</p>
<p>Regular expressions consist of three components: <em><span style="color:#FF9966">single characters</span></em>, <em><span style="color:#FF9966">character classes</span></em> and <em><span style="color:#FF9966">modifiers</span></em> operating on single characters and character classes.</p>
<p>Character classes are formed by using square brackets surrounding a set of characters to be matched e.g. <code>[abc123]</code>, <code>[a-z]</code>, <code>[a-zA-Z]</code>, <code>[0-9a-z]</code>. Note the usage of the dash to indicate a range of values.</p>
<p>The modifiers operating on characters or character classes are summarized in Table <a href="intro.html#tab:RegExprMod">1.2</a>.</p>
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:RegExprMod">Table 1.2: </span> Modifiers for regular expressions.</caption>
<colgroup>
<col width="28%">
<col width="71%">
</colgroup>
<thead><tr class="header">
<th><em><span style="color:#CC99FF">Modifier</span></em></th>
<th><em><span style="color:#CC99FF">Operation</span></em></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>^</code></td>
<td>Expression anchors at beginning of target string</td>
</tr>
<tr class="even">
<td><code>$</code></td>
<td>Expression anchors at end of target string</td>
</tr>
<tr class="odd">
<td><code>.</code></td>
<td>Any single character except newline is matched</td>
</tr>
<tr class="even">
<td><code>|</code></td>
<td>Alternative patterns are separated</td>
</tr>
<tr class="odd">
<td><code>( )</code></td>
<td>Patterns are grouped together</td>
</tr>
<tr class="even">
<td><code>*</code></td>
<td>Zero or more occurrences of preceding entity are matched</td>
</tr>
<tr class="odd">
<td><code>?</code></td>
<td>Zero or one occurrences of preceding entity are matched</td>
</tr>
<tr class="even">
<td><code>+</code></td>
<td>One or more occurrences of preceding entity are matched</td>
</tr>
<tr class="odd">
<td><code>{n}</code></td>
<td>Exactly n occurrences of preceding entity are matched</td>
</tr>
<tr class="even">
<td><code>{n,}</code></td>
<td>At least n occurrences of preceding entity are matched</td>
</tr>
<tr class="odd">
<td><code>{n, m}</code></td>
<td>At least n and at most m occurrences of preceding entity are matched</td>
</tr>
</tbody>
</table></div>
<p>Because of their role as modifiers or in forming character classes the following characters must be preceded by a backslash when their literal meaning is needed:</p>
<pre><code>[  ]  {  }  (  )  ^  $  .  |  *  +  \</code></pre>
<p>Note that in R this means that whenever one of the above characters needs to be escaped in a regular expression it must be preceded by double backslashes. Table <a href="intro.html#tab:RegExpr">1.3</a> contains some examples of regular expressions.</p>
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:RegExpr">Table 1.3: </span> Examples of regular expressions.</caption>
<colgroup>
<col width="28%">
<col width="71%">
</colgroup>
<thead><tr class="header">
<th><em><span style="color:#CC99FF">Regular expression</span></em></th>
<th><em><span style="color:#CC99FF">Meaning</span></em></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>"[a-z][a-z][0-9]"</code></td>
<td>Matches a string consisting of two lower case letters followed by a digit</td>
</tr>
<tr class="even">
<td><code>"[a-z][a-z][0-9]$"</code></td>
<td>Matches a string ending in two lower case letters followed by a digit</td>
</tr>
<tr class="odd">
<td><code>"^[a-zA-Z]+\\."</code></td>
<td>Matches a string beginning with any number of lower or upper case letters followed by a period</td>
</tr>
<tr class="even">
<td><code>"(ab){2}(34){2}$"</code></td>
<td>Matches a string ending in <code>abab3434</code>
</td>
</tr>
</tbody>
</table></div>
<div id="exercise-2" class="section level3" number="1.8.1">
<h3>
<span class="header-section-number">1.8.1</span> Exercise<a class="anchor" aria-label="anchor" href="#exercise-2"><i class="fas fa-link"></i></a>
</h3>
<div style="color: #80CC99;">
<p>Initialize an R session</p>
<ol style="list-style-type: lower-alpha">
<li>Attach the MASS package in the second (the default) position on the search path by issuing the command</li>
</ol>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://www.stats.ox.ac.uk/pub/MASS4/">MASS</a></span><span class="op">)</span></span></code></pre></div>
<ol start="2" style="list-style-type: lower-alpha">
<li>Get a listing of all the objects in package MASS by requesting</li>
</ol>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/ls.html">objects</a></span><span class="op">(</span>pos<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<ol start="3" style="list-style-type: lower-alpha">
<li>Explain the difference between <code>objects(pos=2, pat=".")</code> and <code>objects(pos=2, patt="\\.")</code>.</li>
<li>Obtain a listing of all objects with names starting with three letters followed by a digit.</li>
<li>Obtain a listing of all objects with names ending with three letters followed by a digit.</li>
<li>Obtain a listing of all objects with names ending in a period followed by exactly three or four letters.</li>
</ol>
</div>
</div>
</div>
<div id="FunctionIntro" class="section level2" number="1.9">
<h2>
<span class="header-section-number">1.9</span> From single instructions to sets of instructions: introducing R functions<a class="anchor" aria-label="anchor" href="#FunctionIntro"><i class="fas fa-link"></i></a>
</h2>
<p>Consider the following problem: the R data set <code>sleep</code> contains the extra hours of sleep of 20 patients after a drug treatment. Suppose this data set can be considered a sample from a normal population. A 95% confidence interval is required for the mean extra hours of sleep. It is known that the confidence interval is given by <span class="math inline">\(\left[ \mathbf{\bar{x}}- \left( \frac{s}{\sqrt(n)} \right) t_{n-1,0.025}; \mathbf{\bar{x}}+ \left( \frac{s}{\sqrt(n)} \right) t_{n-1,0.025} \right]\)</span>. This problem can be solved by entering the following instructions one by one:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sleep.data</span> <span class="op">&lt;-</span> <span class="va">sleep</span><span class="op">[</span> ,<span class="fl">1</span><span class="op">]</span>   </span>
<span><span class="va">sleep.mean</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">sleep.data</span><span class="op">)</span>   </span>
<span><span class="va">sleep.sd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">sleep.data</span><span class="op">)</span>    </span>
<span><span class="va">t.perc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/TDist.html">qt</a></span><span class="op">(</span><span class="fl">0.975</span>,<span class="fl">19</span><span class="op">)</span> </span>
<span><span class="va">left.boundary</span> <span class="op">&lt;-</span> <span class="va">sleep.mean</span> <span class="op">-</span> <span class="op">(</span><span class="va">sleep.sd</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">sleep.data</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">*</span><span class="va">t.perc</span> </span>
<span><span class="va">right.boundary</span> <span class="op">&lt;-</span> <span class="va">sleep.mean</span> <span class="op">+</span> <span class="op">(</span><span class="va">sleep.sd</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">sleep.data</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">*</span><span class="va">t.perc</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span> <span class="op">(</span><span class="st">"["</span>, <span class="va">left.boundary</span>, <span class="st">";"</span>, <span class="va">right.boundary</span>, <span class="st">"]\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [ 0.5955845 ; 2.484416 ]</span></span></code></pre></div>
<p>In situations like the above, the problem can be addressed using a <em><span style="color:#FF9966">script file</span></em> or writing a <em><span style="color:#FF9966">function</span></em>. We are going to introduce two methods for writing functions in R:</p>
<ol style="list-style-type: lower-roman">
<li>using a script file and</li>
<li>using the function <code><a href="https://rdrr.io/r/utils/fix.html">fix()</a></code>.</li>
</ol>
<div id="script" class="section level3" number="1.9.1">
<h3>
<span class="header-section-number">1.9.1</span> Writing an R function using a script file<a class="anchor" aria-label="anchor" href="#script"><i class="fas fa-link"></i></a>
</h3>
<ol style="list-style-type: lower-alpha">
<li>From the R top menu select <em>File; New script</em>. A script window will open with a simultaneous change in the menu bar.</li>
<li>Type the instructions in the script window.</li>
<li>Select all the typed text and run the script by clicking the run icon (or Ctrl+R).</li>
<li>Note what is shown in the R console window.</li>
<li>Script files are ordinary text files. They can be saved, edited and opened using any text editor.</li>
<li>By convention R script files have the extension <span style="color:#FFB3B3">xxxx.r</span>.</li>
<li>Next, change the spelling in the last two lines from <code>right.boundary</code> to <code>Right.boundary</code>. Select all the text and run the script. Check the output appearing on the console.</li>
<li>Script windows can also be used for creating an R function.</li>
<li>Create an R function by changing the text as shown below.</li>
</ol>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">conf.int</span> <span class="op">&lt;-</span> <span class="kw">function</span> <span class="op">(</span><span class="va">x</span> <span class="op">=</span> <span class="va">sleep</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="op">{</span></span>
<span>  <span class="va">x.mean</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>   </span>
<span>  <span class="va">x.sd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>    </span>
<span>  <span class="va">t.perc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/TDist.html">qt</a></span><span class="op">(</span><span class="fl">0.975</span>,<span class="fl">19</span><span class="op">)</span> </span>
<span>  <span class="va">left.boundary</span> <span class="op">&lt;-</span> <span class="va">x.mean</span> <span class="op">-</span> <span class="op">(</span><span class="va">x.sd</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">*</span><span class="va">t.perc</span> </span>
<span>  <span class="va">right.boundary</span> <span class="op">&lt;-</span> <span class="va">x.mean</span> <span class="op">+</span> <span class="op">(</span><span class="va">x.sd</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">*</span><span class="va">t.perc</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span> <span class="op">(</span>lower <span class="op">=</span> <span class="va">left.boundary</span>, upper <span class="op">=</span> <span class="va">right.boundary</span><span class="op">)</span>  </span>
<span><span class="op">}</span></span></code></pre></div>
<ol start="10" style="list-style-type: lower-alpha">
<li>Select the text and notice what happens in the R commands window (the console).</li>
<li>Give the instruction <code><a href="https://rdrr.io/r/base/ls.html">objects()</a></code> at the R prompt. What has happened?</li>
<li>You can now run the function from the commands window (the console) by typing:</li>
</ol>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">conf.int</span> <span class="op">(</span>x <span class="op">=</span> <span class="va">sleep</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; $lower</span></span>
<span><span class="co">#&gt; [1] 0.5955845</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $upper</span></span>
<span><span class="co">#&gt; [1] 2.484416</span></span></code></pre></div>
<ol start="12" style="list-style-type: lower-alpha">
<li>If you want to create and run the function <code>conf.int</code> in a script window then add the instruction <code>conf.func (x = sleep[,1])</code> as the last line in the script window. Now, select only this line and run it. Check the R console.</li>
<li>What will happen if a syntax error is made in the script window? Change the code in the script file as follows, deliberately deleting the last closing parenthesis in the last line of the function.</li>
</ol>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="intro.html#cb29-1" tabindex="-1"></a>conf.int <span class="ot">&lt;-</span> <span class="cf">function</span> (<span class="at">x =</span> sleep[,<span class="dv">1</span>])</span>
<span id="cb29-2"><a href="intro.html#cb29-2" tabindex="-1"></a>{</span>
<span id="cb29-3"><a href="intro.html#cb29-3" tabindex="-1"></a>  x.mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(x)   </span>
<span id="cb29-4"><a href="intro.html#cb29-4" tabindex="-1"></a>  x.sd <span class="ot">&lt;-</span> <span class="fu">sd</span>(x)    </span>
<span id="cb29-5"><a href="intro.html#cb29-5" tabindex="-1"></a>  t.perc <span class="ot">&lt;-</span> <span class="fu">qt</span>(<span class="fl">0.975</span>,<span class="dv">19</span>) </span>
<span id="cb29-6"><a href="intro.html#cb29-6" tabindex="-1"></a>  left.boundary <span class="ot">&lt;-</span> x.mean <span class="sc">-</span> (x.sd<span class="sc">/</span><span class="fu">sqrt</span>(<span class="fu">length</span>(x)))<span class="sc">*</span>t.perc </span>
<span id="cb29-7"><a href="intro.html#cb29-7" tabindex="-1"></a>  right.boundary <span class="ot">&lt;-</span> x.mean <span class="sc">+</span> (x.sd<span class="sc">/</span><span class="fu">sqrt</span>(<span class="fu">length</span>(x)))<span class="sc">*</span>t.perc</span>
<span id="cb29-8"><a href="intro.html#cb29-8" tabindex="-1"></a>  <span class="fu">list</span> (<span class="at">lower =</span> left.boundary, <span class="at">upper =</span> right.boundary</span>
<span id="cb29-9"><a href="intro.html#cb29-9" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb29-10"><a href="intro.html#cb29-10" tabindex="-1"></a><span class="fu">conf.int</span> (<span class="at">x =</span> sleep[,<span class="dv">1</span>])</span></code></pre></div>
<ol start="14" style="list-style-type: lower-alpha">
<li>Select <em>only the final line</em> and run it. Check the R console. No problem, the function executed correctly. This is because the code for <code>conf.int</code> in the script file was changed, but the updated object was not created by running it in the console.</li>
<li>Select <em>all the code</em> in the script and run it. Check the R console. Discuss.</li>
</ol>
</div>
<div id="writing-an-r-function-using-fix" class="section level3" number="1.9.2">
<h3>
<span class="header-section-number">1.9.2</span> Writing an R function using <code>fix()</code><a class="anchor" aria-label="anchor" href="#writing-an-r-function-using-fix"><i class="fas fa-link"></i></a>
</h3>
<p>When using <code><a href="https://rdrr.io/r/utils/fix.html">fix()</a></code> the built-in <em><span style="color:#FF9966">R text editor</span></em> can be used when using script files but in the windows environment <span style="color:#3399FF">notepad</span> or preferably <a href="www.notepad-plus-plus.org/download/">notepad++</a> or <a href="https://tinn-r.org/en/">Tinn-R</a> is preferred.</p>
<p>The following instruction is necessary for changing the default editor to be used with <code><a href="https://rdrr.io/r/utils/fix.html">fix()</a></code>:</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>editor <span class="op">=</span> <span class="st">"notepad"</span><span class="op">)</span></span></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>editor <span class="op">=</span> <span class="st">"full path to the relevant exe file"</span><span class="op">)</span></span></code></pre></div>
<ol style="list-style-type: lower-alpha">
<li>Enter <code>fix (my.func)</code> at the R prompt. A text editor will open. Type the instructions as shown below.</li>
</ol>
<div class="sourceCode" id="cb32"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb32-1"><a href="intro.html#cb32-1" tabindex="-1"></a>function (x = sleep[,1])</span>
<span id="cb32-2"><a href="intro.html#cb32-2" tabindex="-1"></a>{</span>
<span id="cb32-3"><a href="intro.html#cb32-3" tabindex="-1"></a>  x.mean &lt;- mean(x)`</span>
<span id="cb32-4"><a href="intro.html#cb32-4" tabindex="-1"></a>  x.sd &lt;- sd(x)</span>
<span id="cb32-5"><a href="intro.html#cb32-5" tabindex="-1"></a>  t.perc &lt;- qt(0.975,19)</span>
<span id="cb32-6"><a href="intro.html#cb32-6" tabindex="-1"></a>  left.boundary &lt;- x.mean - (x.sd/sqrt(length(x)))*t.perc</span>
<span id="cb32-7"><a href="intro.html#cb32-7" tabindex="-1"></a>  right.boundary &lt;- x.mean + (x.sd/sqrt(length(x)))*t.perc</span>
<span id="cb32-8"><a href="intro.html#cb32-8" tabindex="-1"></a>  list (lower = left.boundary, upper = right.boundary)</span>
<span id="cb32-9"><a href="intro.html#cb32-9" tabindex="-1"></a>}</span></code></pre></div>
<div style="margin-left: 32px; margin-right: 20px;">
<p>Close the window. Check what happens in the R console.</p>
<p>You can now run the function from the commands window (the console) similar to in <a href="intro.html#script">1.9.1</a>(l), but changing the name of the function from <code>conf.int</code> to <code>my.func</code>.</p>
</div>
<ol start="2" style="list-style-type: lower-alpha">
<li><p>What will happen if a syntax error is made when using fix? At the R prompt type fix (my.func). Make a deliberate syntax error, e.g. delete the last closing brace. Close the text editor window. What happens in the console? What is to be done to correct the mistake?</p></li>
<li><p>Carefully study the message in the R console when a syntax error occurred in a function created by <code><a href="https://rdrr.io/r/utils/fix.html">fix()</a></code>:</p></li>
</ol>
<div class="sourceCode" id="cb33"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb33-1"><a href="intro.html#cb33-1" tabindex="-1"></a>&gt; Error in edit(name, file, title, editor) :</span>
<span id="cb33-2"><a href="intro.html#cb33-2" tabindex="-1"></a>    unexpected 'yyy' occurred on line xx</span>
<span id="cb33-3"><a href="intro.html#cb33-3" tabindex="-1"></a>    use a command like</span>
<span id="cb33-4"><a href="intro.html#cb33-4" tabindex="-1"></a>    x &lt;- edit()</span>
<span id="cb33-5"><a href="intro.html#cb33-5" tabindex="-1"></a>    to recover</span></code></pre></div>
<ol start="4" style="list-style-type: lower-alpha">
<li>The following is the correct way to respond to the above message from the R evaluator:</li>
</ol>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my.func</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/edit.html">edit</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div style="margin-left: 32px; margin-right: 20px;">
<p>If you simply use <code>fix(my.func)</code> at this point, the R and the editor will revert to the version of the function <em>before</em> the previous edit.</p>
</div>
<div style="color: #FF9966;">
<p><strong>WARNING</strong></p>
<p>Before writing a function for solving any problem: make sure the problem is understood exactly; make 100% sure the relevant statistical theory is understood correctly. Failure to do so is careless and dangerous!</p>
</div>
</div>
</div>
<div id="r-projects" class="section level2" number="1.10">
<h2>
<span class="header-section-number">1.10</span> R Projects<a class="anchor" aria-label="anchor" href="#r-projects"><i class="fas fa-link"></i></a>
</h2>
<p>The different windows in R are the Data window, Script window, Graph window and Menus and Dialog windows. The current <span style="color:#3399FF">workspace</span> in R is <code>.GlobalEnv</code>. The function <code><a href="https://rdrr.io/r/base/getwd.html">getwd()</a></code> is used to obtain the path to the current folder’s <span style="color:#FFB3B3">.Rdata</span> and <span style="color:#FFB3B3">.Rhistory</span>.</p>
<p><em>Note</em>: In order to see the files <span style="color:#FFB3B3">.Rdata</span> and <span style="color:#FFB3B3">.Rhistory</span> being displayed as such, it may be necessary to turn off the option “Hide extensions for known file types” in Windows Explorer.</p>
<p>It is important to make provision for different <span style="color:#3399FF">workspaces</span> associated with different <em><span style="color:#FF9966">projects</span></em>. In R, different <em><span style="color:#FFB3B3">.Rdata</span></em> files in different folders would separate different projects. There is however much to gain in using Projects in RStudio.</p>
<div id="creating-a-project-in-rstudio" class="section level3" number="1.10.1">
<h3>
<span class="header-section-number">1.10.1</span> Creating a project in RStudio<a class="anchor" aria-label="anchor" href="#creating-a-project-in-rstudio"><i class="fas fa-link"></i></a>
</h3>
<p>From the top menu, select <em>File, New Project</em>. Follow the prompts to create a new project, either in an existing folder or creating a new folder for your project, say <span style="color:#FFB3B3">MyProject</span>.</p>
<ol style="list-style-type: lower-alpha">
<li>Navigate to the folder <span style="color:#FFB3B3">MyProject</span> in Windows Explorer.</li>
<li>Notice a file <span style="color:#FFB3B3">MyProject.Rproj</span> has been created in the folder.</li>
<li>By double-clicking on this file you open the project in RStudio. The advantages of opening the project this way are:</li>
</ol>
<ul>
<li>your <span style="color:#3399FF">workspace</span> from the file <span style="color:#FFB3B3">MyProject.Rdata</span> is automatically loaded</li>
<li>by placing any related files like data set in the folder <span style="color:#FFB3B3">MyProject</span> or a subfolder, say <span style="color:#FFB3B3">MyProject\data</span> means that in your code you only have to use relative folder references, i.e. refer to <span style="color:#FFB3B3">MyProject\mydata.xlsx</span> or <span style="color:#FFB3B3">MyProject\data\mydata.xlsx</span> instead of something like <span style="color:#FFB3B3">c:\users\myname\Documents\MyProject\data\mydata.xlsx</span>.</li>
<li>the major advantage of relative references is that it is not specific to the computer and makes porting between devices possible</li>
<li>sharing your project with a collaborator will simply entail copying the entire contents of the <span style="color:#FFB3B3">MyProject</span> folder.</li>
</ul>
</div>
</div>
<div id="a-note-on-computations-by-a-computer" class="section level2" number="1.11">
<h2>
<span class="header-section-number">1.11</span> A note on computations by a computer<a class="anchor" aria-label="anchor" href="#a-note-on-computations-by-a-computer"><i class="fas fa-link"></i></a>
</h2>
<p>When writing R functions it is important to keep in mind that the way computations are performed by a computer are not always according to the rules of algebra. Two important occurrences are given below.</p>
<ul>
<li><p>In mathematics the following statement is incorrect: <code>x = x + k</code> for <span class="math inline">\(k \neq 0\)</span> but in computer programming the statement <code>x = x + k</code> is legitimate and it means <code>x</code> is replaced by <code>x + k</code>.</p></li>
<li><p>In general, the treatment of integers and real numbers for which R uses floating point representation happens at a fundamental level over which R has no control. Real numbers cannot necessarily be exactly represented in a computer – some can only be approximated. Furthermore, there are limitations to the minimum and maximum numbers that can be represented in a computer. This might lead to what is known as <em><span style="color:#FF9966">underflow</span></em> or <em><span style="color:#FF9966">overflow</span></em>. A more detailed discussion appears in a later chapter.</p></li>
</ul>
<p>Open an R session and issue the command</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">.Machine</span></span></code></pre></div>
<p>for details about the numerical environment of your computer.</p>
</div>
<div id="built-in-data-sets-in-r" class="section level2" number="1.12">
<h2>
<span class="header-section-number">1.12</span> Built-in data sets in R<a class="anchor" aria-label="anchor" href="#built-in-data-sets-in-r"><i class="fas fa-link"></i></a>
</h2>
<p>R contains several built-in data sets collected in the package <code>datasets</code>. This package is automatically attached to the search path. Type <code><a href="https://rdrr.io/r/datasets/datasets-package.html">?datasets</a></code> at the R prompt for details. Apart from these data sets several other data sets from other packages are also used in this book.</p>
</div>
<div id="the-use-of-.first-and-.last" class="section level2" number="1.13">
<h2>
<span class="header-section-number">1.13</span> The use of <code>.First()</code> and <code>.Last()</code><a class="anchor" aria-label="anchor" href="#the-use-of-.first-and-.last"><i class="fas fa-link"></i></a>
</h2>
<p>The function <code>.First()</code> is executed at the beginning of every R session. <em><span style="color:#FFB3B3">This only works in R and not in RStudio</span></em>.</p>
<p>Instead of having to specify</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>editor <span class="op">=</span> <span class="st">"notepad"</span><span class="op">)</span></span></code></pre></div>
<p>each time an R session is initialized, create the following function and save in the <span style="color:#FFB3B3">.Rdata</span> before exiting R.</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">.First</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>editor <span class="op">=</span> <span class="st">"notepad"</span><span class="op">)</span> <span class="op">}</span></span></code></pre></div>
<p>to ensures that Notepad is the text editor during any subsequent session.</p>
<p>Similar to <code>.First()</code> the function <code>.Last()</code> can be created for execution at the end of an R session.</p>
<div id="security-an-example-of-the-usage-of-.first" class="section level3" number="1.13.1">
<h3>
<span class="header-section-number">1.13.1</span> Security: an example of the usage of <code>.First()</code><a class="anchor" aria-label="anchor" href="#security-an-example-of-the-usage-of-.first"><i class="fas fa-link"></i></a>
</h3>
<p>The <code>.First()</code> facility can be used to prevent access to a R workspace by setting a password protection. This can be done as follows:</p>
<p>Create a new workspace for running the example on security. In this workspace create the following R function</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">password</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span>        <span class="co"># Note the structure of a function</span></span>
<span><span class="op">{</span> <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Password? \n"</span><span class="op">)</span></span>
<span>  <span class="va">password</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readline.html">readline</a></span><span class="op">(</span><span class="op">)</span>      <span class="co"># What is the usage of readline()? </span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">password</span> <span class="op">!=</span> <span class="st">"PASSWORD"</span><span class="op">)</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/quit.html">q</a></span><span class="op">(</span>save<span class="op">=</span><span class="st">"no"</span><span class="op">)</span>              <span class="co"># The meaning of !=  is "not equal to"</span></span>
<span>  <span class="kw">else</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"You can proceed \n"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span>               </span></code></pre></div>
<p>Now create the function:</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">.First</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">{</span>   <span class="co">#  What must you be careful of?</span></span>
<span>   <span class="fu">password</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<ul>
<li>Terminate your R session and open it again.</li>
<li>Discuss the construction and usage of the above functions.</li>
<li>Can you break the above security?</li>
<li>Can you make changes to the above security to make it more safe?</li>
</ul>
</div>
</div>
<div id="options" class="section level2" number="1.14">
<h2>
<span class="header-section-number">1.14</span> Options<a class="anchor" aria-label="anchor" href="#options"><i class="fas fa-link"></i></a>
</h2>
<p>Study the result of the instruction <code>&gt; options()</code> in R.</p>
</div>
<div id="creating-pdf-and-html-documents-from-r-output-r-markdown" class="section level2" number="1.15">
<h2>
<span class="header-section-number">1.15</span> Creating PDF and HTML documents from R output: R Markdown<a class="anchor" aria-label="anchor" href="#creating-pdf-and-html-documents-from-r-output-r-markdown"><i class="fas fa-link"></i></a>
</h2>
<p>The R package <code>knitr</code> is used to obtain reproducible results from R code in the form of PDF or HTML documents. In addition to <code>knitr</code>, R <strong><span style="color:#3399FF">Markdown</span></strong> can be used to create HTML, PDF or even MS Word documents. Markdown is a so-called markup language with plain-text-formating syntax. An R Markdown document is written in markdown and contains chunks of embedded R code. Although the <code>render()</code> function in the package <code>rmarkdown</code> can be used (similar to the <code>knit()</code> function from the package <code>knitr</code>), to create the output document from the R Markdown <span style="color:#FFB3B3">.Rmd</span> file, R Markdown is typically used in conjunction with <span style="color:#3399FF">RStudio</span>. In the top menu, select <em>File, New File, R Markdown…</em> to open the <span style="color:#FFB3B3">example.Rmd</span> file providing the user with the structure of an R Markdown file. For our illustration, we will select the output format as HTML.</p>
<p>Edit the <span style="color:#FFB3B3">example.Rmd</span> file to contain the following:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb40-1"><a href="intro.html#cb40-1" tabindex="-1"></a>---</span>
<span id="cb40-2"><a href="intro.html#cb40-2" tabindex="-1"></a>title: "An Illustration of Some Capabilities of R Markdown"</span>
<span id="cb40-3"><a href="intro.html#cb40-3" tabindex="-1"></a>author: "Niel le Roux and Sugnet Lubbe"</span>
<span id="cb40-4"><a href="intro.html#cb40-4" tabindex="-1"></a>date: "22/01/2021"</span>
<span id="cb40-5"><a href="intro.html#cb40-5" tabindex="-1"></a>output: html_document</span>
<span id="cb40-6"><a href="intro.html#cb40-6" tabindex="-1"></a>---</span>
<span id="cb40-7"><a href="intro.html#cb40-7" tabindex="-1"></a></span>
<span id="cb40-8"><a href="intro.html#cb40-8" tabindex="-1"></a>```{r setup, include=FALSE}</span>
<span id="cb40-9"><a href="intro.html#cb40-9" tabindex="-1"></a>knitr::opts_chunk$set(echo = TRUE)</span>
<span id="cb40-10"><a href="intro.html#cb40-10" tabindex="-1"></a>```</span>
<span id="cb40-11"><a href="intro.html#cb40-11" tabindex="-1"></a></span>
<span id="cb40-12"><a href="intro.html#cb40-12" tabindex="-1"></a>## Short description</span>
<span id="cb40-13"><a href="intro.html#cb40-13" tabindex="-1"></a></span>
<span id="cb40-14"><a href="intro.html#cb40-14" tabindex="-1"></a>Code chunks in .Rmd files are delimited with ` ```{r} ` at the top where a chunk </span>
<span id="cb40-15"><a href="intro.html#cb40-15" tabindex="-1"></a>label and any chunk options can appear and  ` ``` ` at the end. In-line R code </span>
<span id="cb40-16"><a href="intro.html#cb40-16" tabindex="-1"></a>chunks are indicated with single ` `r ` on either side.</span>
<span id="cb40-17"><a href="intro.html#cb40-17" tabindex="-1"></a></span>
<span id="cb40-18"><a href="intro.html#cb40-18" tabindex="-1"></a>*****</span>
<span id="cb40-19"><a href="intro.html#cb40-19" tabindex="-1"></a></span>
<span id="cb40-20"><a href="intro.html#cb40-20" tabindex="-1"></a>Here is an example containing several chunks of code. Note that in the first </span>
<span id="cb40-21"><a href="intro.html#cb40-21" tabindex="-1"></a>chunk R code is not shown due to the option `echo = FALSE`. In the remaining </span>
<span id="cb40-22"><a href="intro.html#cb40-22" tabindex="-1"></a>chunks R code is shown due to the option above 'echo = TRUE'.</span>
<span id="cb40-23"><a href="intro.html#cb40-23" tabindex="-1"></a></span>
<span id="cb40-24"><a href="intro.html#cb40-24" tabindex="-1"></a>_Note R code not shown for this chunk._</span>
<span id="cb40-25"><a href="intro.html#cb40-25" tabindex="-1"></a></span>
<span id="cb40-26"><a href="intro.html#cb40-26" tabindex="-1"></a>```{r y, echo=FALSE}</span>
<span id="cb40-27"><a href="intro.html#cb40-27" tabindex="-1"></a>y &lt;- 1</span>
<span id="cb40-28"><a href="intro.html#cb40-28" tabindex="-1"></a>y</span>
<span id="cb40-29"><a href="intro.html#cb40-29" tabindex="-1"></a>```</span>
<span id="cb40-30"><a href="intro.html#cb40-30" tabindex="-1"></a></span>
<span id="cb40-31"><a href="intro.html#cb40-31" tabindex="-1"></a>```{r rnorm}</span>
<span id="cb40-32"><a href="intro.html#cb40-32" tabindex="-1"></a>require(lattice)</span>
<span id="cb40-33"><a href="intro.html#cb40-33" tabindex="-1"></a>set.seed(123)</span>
<span id="cb40-34"><a href="intro.html#cb40-34" tabindex="-1"></a>x &lt;- rnorm(1000, 20, 5)</span>
<span id="cb40-35"><a href="intro.html#cb40-35" tabindex="-1"></a>```</span>
<span id="cb40-36"><a href="intro.html#cb40-36" tabindex="-1"></a></span>
<span id="cb40-37"><a href="intro.html#cb40-37" tabindex="-1"></a>We analyse data drawn from $\mathcal{N}(20,25)$. The mean is </span>
<span id="cb40-38"><a href="intro.html#cb40-38" tabindex="-1"></a>`r round(mean(x),3)`. The following code shows the distribution via a histogram</span>
<span id="cb40-39"><a href="intro.html#cb40-39" tabindex="-1"></a></span>
<span id="cb40-40"><a href="intro.html#cb40-40" tabindex="-1"></a>```{r histexample}</span>
<span id="cb40-41"><a href="intro.html#cb40-41" tabindex="-1"></a>  hist(x)</span>
<span id="cb40-42"><a href="intro.html#cb40-42" tabindex="-1"></a>```</span>
<span id="cb40-43"><a href="intro.html#cb40-43" tabindex="-1"></a></span>
<span id="cb40-44"><a href="intro.html#cb40-44" tabindex="-1"></a>and the code below via a boxplot.</span>
<span id="cb40-45"><a href="intro.html#cb40-45" tabindex="-1"></a></span>
<span id="cb40-46"><a href="intro.html#cb40-46" tabindex="-1"></a>```{r boxexample}</span>
<span id="cb40-47"><a href="intro.html#cb40-47" tabindex="-1"></a>  boxplot(x)</span>
<span id="cb40-48"><a href="intro.html#cb40-48" tabindex="-1"></a>```</span>
<span id="cb40-49"><a href="intro.html#cb40-49" tabindex="-1"></a></span>
<span id="cb40-50"><a href="intro.html#cb40-50" tabindex="-1"></a>The first element of \texttt{x} is `r x[1]`. Note the usage of ` \texttt{x} ` </span>
<span id="cb40-51"><a href="intro.html#cb40-51" tabindex="-1"></a>above.</span>
<span id="cb40-52"><a href="intro.html#cb40-52" tabindex="-1"></a></span>
<span id="cb40-53"><a href="intro.html#cb40-53" tabindex="-1"></a>*two plots side by side (option fig.show='hold')*</span>
<span id="cb40-54"><a href="intro.html#cb40-54" tabindex="-1"></a></span>
<span id="cb40-55"><a href="intro.html#cb40-55" tabindex="-1"></a>```{r side-by-side, fig.show='hold', out.width="50%"}</span>
<span id="cb40-56"><a href="intro.html#cb40-56" tabindex="-1"></a>  par(mar=c(4,4,0.1,0.1), cex.lab=0.95, cex.axis=0.9, mgp=c(2,0.7,0), </span>
<span id="cb40-57"><a href="intro.html#cb40-57" tabindex="-1"></a>      tcl=-0.3, las=1)</span>
<span id="cb40-58"><a href="intro.html#cb40-58" tabindex="-1"></a>  boxplot(x)</span>
<span id="cb40-59"><a href="intro.html#cb40-59" tabindex="-1"></a>  hist(x,main="")</span>
<span id="cb40-60"><a href="intro.html#cb40-60" tabindex="-1"></a>```</span>
<span id="cb40-61"><a href="intro.html#cb40-61" tabindex="-1"></a></span>
<span id="cb40-62"><a href="intro.html#cb40-62" tabindex="-1"></a>```{r linear_model}</span>
<span id="cb40-63"><a href="intro.html#cb40-63" tabindex="-1"></a>  n &lt;- 10</span>
<span id="cb40-64"><a href="intro.html#cb40-64" tabindex="-1"></a>  x &lt;- rnorm(n)</span>
<span id="cb40-65"><a href="intro.html#cb40-65" tabindex="-1"></a>  y &lt;- 2*x + rnorm(n)</span>
<span id="cb40-66"><a href="intro.html#cb40-66" tabindex="-1"></a>  out &lt;- lm(y ~ x)</span>
<span id="cb40-67"><a href="intro.html#cb40-67" tabindex="-1"></a>  summary(out)$coef</span>
<span id="cb40-68"><a href="intro.html#cb40-68" tabindex="-1"></a>```</span></code></pre></div>
<p>At the top of the text editor, click on <em>Knit</em> to create the HTML document. Note that with the down arrow, options <em>Knit to PDF</em> and <em>Knit to Word</em> can also be chosen. The output format is also specified in line 5 of the text file with <code>output: html_document</code>. Had we chosen PDF as output format, it would be <code>output: pdf_document</code>. Typically, R Markdown is used for reporting, directly incorporating the R code and output. For more formal documents with Figure and Table caption references, tables of content, etc. the R package <code>bookdown</code> should be used. Install the package and replace the output statement with <code>output:bookdown::pdf_document2</code>. For more information on the use of bookdown, <a href="https://bookdown.org/">click here</a>.</p>
</div>
<div id="command-line-editing" class="section level2" number="1.16">
<h2>
<span class="header-section-number">1.16</span> Command line editing<a class="anchor" aria-label="anchor" href="#command-line-editing"><i class="fas fa-link"></i></a>
</h2>
<p>Commands given in an R session are stored together with commands given in previous sessions in a file <span style="color:#FFB3B3">.History</span> in the same folder as the <span style="color:#FFB3B3">.RData</span> file. In an R session previous commands can be retrieved at the R prompt by pressing the <em>up</em> and <em>down</em> arrow keys. A previous command can then be edited using the <em>backspace</em>, <em>delete</em>, <em>home</em>, <em>end</em> keys as well as the shortcuts for <em>copy</em> and <em>paste</em>.</p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="index.html">Preface</a></div>
<div class="next"><a href="objects.html"><span class="header-section-number">2</span> Managing objects</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#intro"><span class="header-section-number">1</span> Introducing the R System</a></li>
<li><a class="nav-link" href="#introduction"><span class="header-section-number">1.1</span> Introduction</a></li>
<li><a class="nav-link" href="#downloading-the-r-system"><span class="header-section-number">1.2</span> Downloading the R system</a></li>
<li><a class="nav-link" href="#QuickSample"><span class="header-section-number">1.3</span> A quick sample R session</a></li>
<li><a class="nav-link" href="#working-with-rstudio"><span class="header-section-number">1.4</span> Working with RStudio</a></li>
<li>
<a class="nav-link" href="#r-an-interpretive-computer-language"><span class="header-section-number">1.5</span> R: an interpretive computer language</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#exercise"><span class="header-section-number">1.5.1</span> Exercise</a></li>
<li><a class="nav-link" href="#exercise-1"><span class="header-section-number">1.5.2</span> Exercise</a></li>
</ul>
</li>
<li><a class="nav-link" href="#accessing-the-help-functionality"><span class="header-section-number">1.6</span> Accessing the Help functionality</a></li>
<li><a class="nav-link" href="#MoreBasics"><span class="header-section-number">1.7</span> More R basics</a></li>
<li>
<a class="nav-link" href="#regular-expressions-in-r-the-basics"><span class="header-section-number">1.8</span> Regular expressions in R: the basics</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#exercise-2"><span class="header-section-number">1.8.1</span> Exercise</a></li></ul>
</li>
<li>
<a class="nav-link" href="#FunctionIntro"><span class="header-section-number">1.9</span> From single instructions to sets of instructions: introducing R functions</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#script"><span class="header-section-number">1.9.1</span> Writing an R function using a script file</a></li>
<li><a class="nav-link" href="#writing-an-r-function-using-fix"><span class="header-section-number">1.9.2</span> Writing an R function using fix()</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#r-projects"><span class="header-section-number">1.10</span> R Projects</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#creating-a-project-in-rstudio"><span class="header-section-number">1.10.1</span> Creating a project in RStudio</a></li></ul>
</li>
<li><a class="nav-link" href="#a-note-on-computations-by-a-computer"><span class="header-section-number">1.11</span> A note on computations by a computer</a></li>
<li><a class="nav-link" href="#built-in-data-sets-in-r"><span class="header-section-number">1.12</span> Built-in data sets in R</a></li>
<li>
<a class="nav-link" href="#the-use-of-.first-and-.last"><span class="header-section-number">1.13</span> The use of .First() and .Last()</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#security-an-example-of-the-usage-of-.first"><span class="header-section-number">1.13.1</span> Security: an example of the usage of .First()</a></li></ul>
</li>
<li><a class="nav-link" href="#options"><span class="header-section-number">1.14</span> Options</a></li>
<li><a class="nav-link" href="#creating-pdf-and-html-documents-from-r-output-r-markdown"><span class="header-section-number">1.15</span> Creating PDF and HTML documents from R output: R Markdown</a></li>
<li><a class="nav-link" href="#command-line-editing"><span class="header-section-number">1.16</span> Command line editing</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/sugnet/RTutorial/blob/master/01-intro.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/sugnet/RTutorial/edit/master/01-intro.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Introduction into R Applications and Programming: A Tutorial</strong>" was written by Niël J le Roux and Sugnet Lubbe. It was last built on 2025.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
